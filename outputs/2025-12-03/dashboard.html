<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartMoney Portfolio - 2025-12-03</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f172a;
            color: #e2e8f0;
            padding: 20px;
            line-height: 1.6;
        }
        .container { max-width: 1600px; margin: 0 auto; }
        h1 { font-size: 1.8rem; margin-bottom: 20px; color: #38bdf8; }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        .metric-card {
            background: #1e293b;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }
        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #38bdf8;
        }
        .metric-value.positive { color: #10b981; }
        .metric-value.negative { color: #ef4444; }
        .metric-label {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-top: 5px;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        @media (max-width: 1000px) { .grid-2 { grid-template-columns: 1fr; } }
        .card {
            background: #1e293b;
            border-radius: 12px;
            padding: 20px;
        }
        .card h2 {
            font-size: 1rem;
            margin-bottom: 15px;
            color: #94a3b8;
        }
        table { width: 100%; border-collapse: collapse; font-size: 0.8rem; }
        th, td { padding: 10px 6px; text-align: left; border-bottom: 1px solid #334155; }
        th { color: #94a3b8; font-weight: 500; font-size: 0.7rem; text-transform: uppercase; }
        tr:hover { background: #334155; }
        .ticker { font-weight: 600; color: #38bdf8; }
        .weight { color: #fbbf24; }
        .positive { color: #10b981; }
        .negative { color: #ef4444; }
        .neutral { color: #94a3b8; }
        .sector-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.65rem;
            background: #334155;
        }
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }
        .input-group label { color: #94a3b8; }
        .input-group input {
            background: #334155;
            border: 1px solid #475569;
            border-radius: 8px;
            padding: 10px 15px;
            color: #e2e8f0;
            font-size: 1rem;
            width: 150px;
        }
        .input-group input:focus { outline: none; border-color: #38bdf8; }
        #allocation-result {
            margin-top: 15px;
            padding: 15px;
            background: #0f172a;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
        }
        .alloc-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid #1e293b;
            font-size: 0.85rem;
        }
        .chart-container { position: relative; height: 280px; }
        .fundamentals-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #334155;
        }
        .fund-item { text-align: center; }
        .fund-value { font-size: 1.2rem; font-weight: 600; color: #38bdf8; }
        .fund-label { font-size: 0.7rem; color: #64748b; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“Š SmartMoney Portfolio â€” 2025-12-03</h1>
        
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value">20</div>
                <div class="metric-label">Positions</div>
            </div>
            <div class="metric-card">
                <div class="metric-value positive">
                    +0.14%
                </div>
                <div class="metric-label">Perf 3M</div>
            </div>
            <div class="metric-card">
                <div class="metric-value positive">
                    +6.84%
                </div>
                <div class="metric-label">Perf YTD</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">4.66%</div>
                <div class="metric-label">Vol 30j</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">20.0%</div>
                <div class="metric-label">ROE Moy.</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">0.3</div>
                <div class="metric-label">D/E Moy.</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">24.1%</div>
                <div class="metric-label">Marge Moy.</div>
            </div>
        </div>
        
        <div class="grid-2">
            <div class="card">
                <h2>RÃ©partition Sectorielle</h2>
                <div class="chart-container">
                    <canvas id="sectorChart"></canvas>
                </div>
            </div>
            
            <div class="card">
                <h2>Calculateur d'Allocation</h2>
                <div class="input-group">
                    <label for="amount">Montant:</label>
                    <input type="number" id="amount" value="10000" step="1000">
                    <span>â‚¬</span>
                </div>
                <div id="allocation-result"></div>
            </div>
        </div>
        
        <div class="card">
            <h2>Positions (20)</h2>
            <table>
                <thead>
                    <tr>
                        <th>Ticker</th>
                        <th>Secteur</th>
                        <th>Poids</th>
                        <th>Score</th>
                        <th>3M</th>
                        <th>YTD</th>
                        <th>Vol</th>
                        <th>RSI</th>
                        <th>ROE</th>
                        <th>D/E</th>
                        <th>Marge</th>
                        <th>CAPEX</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ticker">V</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">18.15%</td>
                        <td>1.545</td>
                        <td class="negative">-5.5%</td>
                        <td class="positive">+5.5%</td>
                        <td>15%</td>
                        <td>47</td>
                        <td class="positive">52.9%</td>
                        <td class="positive">0.66</td>
                        <td class="positive">50.1%</td>
                        <td>3.7%</td>
                    </tr>
                    <tr>
                        <td class="ticker">PG</td>
                        <td><span class="sector-badge">Consumer Def</span></td>
                        <td class="weight">8.64%</td>
                        <td>1.048</td>
                        <td class="negative">-7.8%</td>
                        <td class="negative">-12.1%</td>
                        <td>16%</td>
                        <td>42</td>
                        <td class="positive">30.7%</td>
                        <td class="positive">0.68</td>
                        <td class="positive">19.1%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">XOM</td>
                        <td><span class="sector-badge">Energy</span></td>
                        <td class="weight">6.87%</td>
                        <td>0.838</td>
                        <td class="positive">+4.1%</td>
                        <td class="positive">+9.0%</td>
                        <td>16%</td>
                        <td>54</td>
                        <td class="neutral">13.0%</td>
                        <td class="positive">0.15</td>
                        <td class="positive">10.3%</td>
                        <td>7.2%</td>
                    </tr>
                    <tr>
                        <td class="ticker">ACGL</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">6.43%</td>
                        <td>0.771</td>
                        <td class="negative">-0.2%</td>
                        <td class="positive">+1.4%</td>
                        <td>15%</td>
                        <td>58</td>
                        <td class="positive">20.7%</td>
                        <td class="positive">0.13</td>
                        <td class="positive">25.5%</td>
                        <td>0.3%</td>
                    </tr>
                    <tr>
                        <td class="ticker">MSFT</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">6.41%</td>
                        <td>1.411</td>
                        <td class="negative">-3.0%</td>
                        <td class="positive">+17.1%</td>
                        <td>21%</td>
                        <td>44</td>
                        <td class="positive">29.6%</td>
                        <td class="positive">0.18</td>
                        <td class="positive">36.1%</td>
                        <td>22.9%</td>
                    </tr>
                    <tr>
                        <td class="ticker">EA</td>
                        <td><span class="sector-badge">Communicatio</span></td>
                        <td class="weight">5.85%</td>
                        <td>0.734</td>
                        <td class="positive">+21.1%</td>
                        <td class="positive">+39.3%</td>
                        <td>3%</td>
                        <td>71</td>
                        <td class="positive">17.6%</td>
                        <td class="positive">0.31</td>
                        <td class="positive">15.0%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">MDT</td>
                        <td><span class="sector-badge">Healthcare</span></td>
                        <td class="weight">4.42%</td>
                        <td>0.851</td>
                        <td class="positive">+10.6%</td>
                        <td class="positive">+27.2%</td>
                        <td>23%</td>
                        <td>62</td>
                        <td class="neutral">9.7%</td>
                        <td class="positive">0.59</td>
                        <td class="positive">14.0%</td>
                        <td>5.5%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CBOE</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">4.36%</td>
                        <td>0.724</td>
                        <td class="positive">+8.1%</td>
                        <td class="positive">+29.5%</td>
                        <td>18%</td>
                        <td>54</td>
                        <td class="positive">17.9%</td>
                        <td class="positive">0.37</td>
                        <td class="positive">18.7%</td>
                        <td>1.5%</td>
                    </tr>
                    <tr>
                        <td class="ticker">SNA</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">4.14%</td>
                        <td>0.818</td>
                        <td class="positive">+3.3%</td>
                        <td class="positive">+1.4%</td>
                        <td>15%</td>
                        <td>53</td>
                        <td class="positive">19.7%</td>
                        <td class="positive">0.24</td>
                        <td class="positive">20.9%</td>
                        <td>0.1%</td>
                    </tr>
                    <tr>
                        <td class="ticker">RMD</td>
                        <td><span class="sector-badge">Healthcare</span></td>
                        <td class="weight">4.11%</td>
                        <td>0.716</td>
                        <td class="negative">-6.8%</td>
                        <td class="positive">+9.8%</td>
                        <td>21%</td>
                        <td>46</td>
                        <td class="positive">23.5%</td>
                        <td class="positive">0.14</td>
                        <td class="positive">27.2%</td>
                        <td>1.8%</td>
                    </tr>
                    <tr>
                        <td class="ticker">FTV</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">4.00%</td>
                        <td>0.973</td>
                        <td class="positive">+13.0%</td>
                        <td class="negative">-5.2%</td>
                        <td>20%</td>
                        <td>63</td>
                        <td class="neutral">8.2%</td>
                        <td class="positive">0.38</td>
                        <td class="positive">13.4%</td>
                        <td>0.9%</td>
                    </tr>
                    <tr>
                        <td class="ticker">PGR</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">3.69%</td>
                        <td>0.716</td>
                        <td class="negative">-7.3%</td>
                        <td class="negative">-4.9%</td>
                        <td>19%</td>
                        <td>59</td>
                        <td class="positive">33.1%</td>
                        <td class="positive">0.27</td>
                        <td class="positive">11.3%</td>
                        <td>0.3%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CINF</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">3.57%</td>
                        <td>0.786</td>
                        <td class="positive">+6.7%</td>
                        <td class="positive">+14.9%</td>
                        <td>20%</td>
                        <td>52</td>
                        <td class="positive">16.4%</td>
                        <td class="positive">0.06</td>
                        <td class="positive">20.2%</td>
                        <td>0.2%</td>
                    </tr>
                    <tr>
                        <td class="ticker">MTD</td>
                        <td><span class="sector-badge">Healthcare</span></td>
                        <td class="weight">3.13%</td>
                        <td>0.724</td>
                        <td class="positive">+14.1%</td>
                        <td class="positive">+18.5%</td>
                        <td>24%</td>
                        <td>55</td>
                        <td class="negative">-6.8%</td>
                        <td class="neutral">nan</td>
                        <td class="positive">22.3%</td>
                        <td>2.6%</td>
                    </tr>
                    <tr>
                        <td class="ticker">META</td>
                        <td><span class="sector-badge">Communicatio</span></td>
                        <td class="weight">3.00%</td>
                        <td>1.216</td>
                        <td class="negative">-12.2%</td>
                        <td class="positive">+8.0%</td>
                        <td>41%</td>
                        <td>51</td>
                        <td class="positive">34.1%</td>
                        <td class="positive">0.27</td>
                        <td class="positive">37.9%</td>
                        <td>22.6%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CRM</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">2.68%</td>
                        <td>0.982</td>
                        <td class="negative">-8.5%</td>
                        <td class="negative">-29.0%</td>
                        <td>28%</td>
                        <td>46</td>
                        <td class="neutral">10.1%</td>
                        <td class="positive">0.19</td>
                        <td class="positive">16.4%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CME</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">2.68%</td>
                        <td>0.762</td>
                        <td class="positive">+3.0%</td>
                        <td class="positive">+19.2%</td>
                        <td>17%</td>
                        <td>54</td>
                        <td class="neutral">13.3%</td>
                        <td class="positive">0.13</td>
                        <td class="positive">57.5%</td>
                        <td>1.5%</td>
                    </tr>
                    <tr>
                        <td class="ticker">INTU</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">2.67%</td>
                        <td>1.162</td>
                        <td class="negative">-4.9%</td>
                        <td class="positive">+2.1%</td>
                        <td>25%</td>
                        <td>43</td>
                        <td class="positive">19.6%</td>
                        <td class="positive">0.34</td>
                        <td class="positive">20.6%</td>
                        <td>0.5%</td>
                    </tr>
                    <tr>
                        <td class="ticker">SLB</td>
                        <td><span class="sector-badge">Energy</span></td>
                        <td class="weight">2.65%</td>
                        <td>0.895</td>
                        <td class="positive">+0.8%</td>
                        <td class="negative">-5.4%</td>
                        <td>28%</td>
                        <td>53</td>
                        <td class="positive">20.5%</td>
                        <td class="positive">0.54</td>
                        <td class="positive">12.6%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CPRT</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">2.54%</td>
                        <td>1.057</td>
                        <td class="negative">-19.0%</td>
                        <td class="negative">-30.8%</td>
                        <td>25%</td>
                        <td>30</td>
                        <td class="positive">16.8%</td>
                        <td class="positive">0.01</td>
                        <td class="positive">33.3%</td>
                        <td>11.6%</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <script>
        const portfolio = [{"symbol": "V", "company": "Visa Inc", "sector": "Financial Services", "industry": "Credit Services", "weight": 0.1815, "score_composite": 1.5451, "score_sm": 0.914, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -5.46, "perf_ytd": 5.54, "vol_30d": 14.68, "gp_buys": 8, "gp_tier": "A", "insider_buys": 0, "rsi": 46.70396, "td_price": 331.81, "roe": 52.91, "roa": 20.13, "debt_equity": 0.66, "current_ratio": 1.08, "gross_margin": 80.36, "operating_margin": 66.39, "net_margin": 50.14, "capex_ratio": 3.71, "fcf": 21577000000.0, "revenue": 40000000000.0, "net_income": 20058000000.0, "score_value": 0.7, "score_risk": 0.5, "buffett_score": 0.562}, {"symbol": "PG", "company": "Procter & Gamble Co.", "sector": "Consumer Defensive", "industry": "Household & Personal Products", "weight": 0.0864, "score_composite": 1.0481, "score_sm": 0.606, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -7.78, "perf_ytd": -12.12, "vol_30d": 15.79, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 41.85575, "td_price": 145.86, "roe": 30.73, "roa": 12.83, "debt_equity": 0.68, "current_ratio": 0.7, "gross_margin": 51.16, "operating_margin": 24.26, "net_margin": 19.06, "capex_ratio": NaN, "fcf": 14044000000.0, "revenue": 84284000000.0, "net_income": 16065000000.0, "score_value": 0.7, "score_risk": 0.415, "buffett_score": 0.533}, {"symbol": "XOM", "company": "Exxon Mobil Corporation", "sector": "Energy", "industry": "Oil & Gas Integrated", "weight": 0.0687, "score_composite": 0.8376, "score_sm": 0.605, "score_insider": 0.5, "score_momentum": 0.6, "score_quality": 0.405, "perf_3m": 4.1, "perf_ytd": 9.04, "vol_30d": 16.13, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 53.58895, "td_price": 117.01, "roe": 12.96, "roa": 7.73, "debt_equity": 0.15, "current_ratio": 1.31, "gross_margin": 22.62, "operating_margin": 11.69, "net_margin": 10.34, "capex_ratio": 7.16, "fcf": 30716000000.0, "revenue": 339247000000.0, "net_income": 35063000000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.522}, {"symbol": "ACGL", "company": "Arch Capital Group Ltd.", "sector": "Financial Services", "industry": "Insurance - Diversified", "weight": 0.0643, "score_composite": 0.7709, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -0.23, "perf_ytd": 1.43, "vol_30d": 14.64, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 57.69004, "td_price": 92.69, "roe": 20.71, "roa": 6.08, "debt_equity": 0.13, "current_ratio": 0.56, "gross_margin": NaN, "operating_margin": 30.69, "net_margin": 25.47, "capex_ratio": 0.3, "fcf": 6622000000.0, "revenue": 16930000000.0, "net_income": 4312000000.0, "score_value": 0.7, "score_risk": 0.5, "buffett_score": 0.562}, {"symbol": "MSFT", "company": "Microsoft Corp.", "sector": "Technology", "industry": "Software - Infrastructure", "weight": 0.0641, "score_composite": 1.411, "score_sm": 0.85, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -3.04, "perf_ytd": 17.06, "vol_30d": 21.36, "gp_buys": 7, "gp_tier": "B", "insider_buys": 0, "rsi": 44.42839, "td_price": 490.0, "roe": 29.65, "roa": 16.45, "debt_equity": 0.18, "current_ratio": 1.35, "gross_margin": 68.82, "operating_margin": 45.62, "net_margin": 36.15, "capex_ratio": 22.91, "fcf": 71611000000.0, "revenue": 281724000000.0, "net_income": 101832000000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.548}, {"symbol": "EA", "company": "Electronic Arts Inc.", "sector": "Communication Services", "industry": "Electronic Gaming & Multimedia", "weight": 0.0585, "score_composite": 0.7335, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.42, "score_quality": 0.485, "perf_3m": 21.08, "perf_ytd": 39.3, "vol_30d": 3.44, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 71.26448, "td_price": 203.24001, "roe": 17.55, "roa": 9.06, "debt_equity": 0.31, "current_ratio": 0.95, "gross_margin": 79.32, "operating_margin": 21.13, "net_margin": 15.02, "capex_ratio": NaN, "fcf": 1858000000.0, "revenue": 7463000000.0, "net_income": 1121000000.0, "score_value": 0.7, "score_risk": 0.5, "buffett_score": 0.562}, {"symbol": "MDT", "company": "Medtronic plc", "sector": "Healthcare", "industry": "Medical Devices", "weight": 0.0442, "score_composite": 0.8512, "score_sm": 0.586, "score_insider": 0.5, "score_momentum": 0.53, "score_quality": 0.485, "perf_3m": 10.6, "perf_ytd": 27.19, "vol_30d": 23.3, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 61.61491, "td_price": 102.029999, "roe": 9.72, "roa": 5.12, "debt_equity": 0.59, "current_ratio": 1.85, "gross_margin": 65.32, "operating_margin": 19.5, "net_margin": 13.99, "capex_ratio": 5.54, "fcf": 5185000000.0, "revenue": 33537000000.0, "net_income": 4691000000.0, "score_value": 0.7, "score_risk": 0.28, "buffett_score": 0.488}, {"symbol": "CBOE", "company": "Cboe Global Markets Inc.", "sector": "Financial Services", "industry": "Financial Data & Stock Exchanges", "weight": 0.0436, "score_composite": 0.7237, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.65, "score_quality": 0.485, "perf_3m": 8.05, "perf_ytd": 29.48, "vol_30d": 18.42, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 53.5143, "td_price": 254.35001, "roe": 17.87, "roa": 9.82, "debt_equity": 0.37, "current_ratio": 1.78, "gross_margin": 50.61, "operating_margin": 28.84, "net_margin": 18.68, "capex_ratio": 1.47, "fcf": 1039700000.0, "revenue": 4094500000.0, "net_income": 764900000.0, "score_value": 0.7, "score_risk": 0.415, "buffett_score": 0.533}, {"symbol": "SNA", "company": "Snap-on Inc.", "sector": "Industrials", "industry": "Tools & Accessories", "weight": 0.0414, "score_composite": 0.8176, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.6, "score_quality": 0.485, "perf_3m": 3.34, "perf_ytd": 1.39, "vol_30d": 14.51, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 53.078211, "td_price": 339.76, "roe": 19.73, "roa": 13.54, "debt_equity": 0.24, "current_ratio": 4.15, "gross_margin": 51.97, "operating_margin": 26.34, "net_margin": 20.92, "capex_ratio": 0.06, "fcf": 1134000000.0, "revenue": 5108400000.0, "net_income": 1068900000.0, "score_value": 0.7, "score_risk": 0.5, "buffett_score": 0.562}, {"symbol": "RMD", "company": "ResMed Inc.", "sector": "Healthcare", "industry": "Medical Instruments & Supplies", "weight": 0.0411, "score_composite": 0.7157, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -6.82, "perf_ytd": 9.79, "vol_30d": 20.89, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 46.31302, "td_price": 250.85001, "roe": 23.47, "roa": 17.14, "debt_equity": 0.14, "current_ratio": 3.44, "gross_margin": 59.36, "operating_margin": 32.79, "net_margin": 27.22, "capex_ratio": 1.75, "fcf": 1650946000.0, "revenue": 5146327000.0, "net_income": 1400723000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.548}, {"symbol": "FTV", "company": "Fortive Corporation", "sector": "Technology", "industry": "Scientific & Technical Instruments", "weight": 0.04, "score_composite": 0.9732, "score_sm": 0.601, "score_insider": 0.5, "score_momentum": 0.53, "score_quality": 0.485, "perf_3m": 12.99, "perf_ytd": -5.23, "vol_30d": 19.81, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 63.051, "td_price": 53.14, "roe": 8.17, "roa": 4.89, "debt_equity": 0.38, "current_ratio": 1.16, "gross_margin": 59.87, "operating_margin": 18.35, "net_margin": 13.37, "capex_ratio": 0.95, "fcf": 1406400000.0, "revenue": 6231800000.0, "net_income": 832900000.0, "score_value": 0.7, "score_risk": 0.355, "buffett_score": 0.513}, {"symbol": "PGR", "company": "Progressive Corporation", "sector": "Financial Services", "industry": "Insurance - Property & Casualty", "weight": 0.0369, "score_composite": 0.7157, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -7.28, "perf_ytd": -4.94, "vol_30d": 19.34, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 58.67107, "td_price": 228.75999, "roe": 33.14, "roa": 8.02, "debt_equity": 0.27, "current_ratio": 0.3, "gross_margin": NaN, "operating_margin": 15.08, "net_margin": 11.26, "capex_ratio": 0.28, "fcf": 14834000000.0, "revenue": 75343000000.0, "net_income": 8480000000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.548}, {"symbol": "CINF", "company": "Cincinnati Financial Corporation", "sector": "Financial Services", "industry": "Insurance - Property & Casualty", "weight": 0.0357, "score_composite": 0.7858, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.65, "score_quality": 0.485, "perf_3m": 6.67, "perf_ytd": 14.94, "vol_30d": 19.71, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 52.080806, "td_price": 163.77, "roe": 16.45, "roa": 6.28, "debt_equity": 0.06, "current_ratio": 1.12, "gross_margin": NaN, "operating_margin": 38.27, "net_margin": 20.22, "capex_ratio": 0.19, "fcf": 2627000000.0, "revenue": 11337000000.0, "net_income": 2292000000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.548}, {"symbol": "MTD", "company": "Mettler-Toledo International Inc.", "sector": "Healthcare", "industry": "Diagnostics & Research", "weight": 0.0313, "score_composite": 0.7237, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.65, "score_quality": 0.485, "perf_3m": 14.08, "perf_ytd": 18.54, "vol_30d": 24.15, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 55.012828, "td_price": 1447.16003, "roe": -6.8, "roa": 26.64, "debt_equity": NaN, "current_ratio": 1.02, "gross_margin": 60.06, "operating_margin": 29.11, "net_margin": 22.29, "capex_ratio": 2.64, "fcf": 864448000.0, "revenue": 3872361000.0, "net_income": 863140000.0, "score_value": 0.7, "score_risk": 0.415, "buffett_score": 0.533}, {"symbol": "META", "company": "Meta Platforms, Inc. Class A", "sector": "Communication Services", "industry": "Internet Content & Information", "weight": 0.03, "score_composite": 1.2164, "score_sm": 0.842, "score_insider": 0.5, "score_momentum": 0.4, "score_quality": 0.485, "perf_3m": -12.2, "perf_ytd": 7.99, "vol_30d": 41.34, "gp_buys": 8, "gp_tier": "A", "insider_buys": 0, "rsi": 51.40133, "td_price": 647.099976, "roe": 34.14, "roa": 22.59, "debt_equity": 0.27, "current_ratio": 2.98, "gross_margin": 81.67, "operating_margin": 42.18, "net_margin": 37.91, "capex_ratio": 22.65, "fcf": 54072000000.0, "revenue": 164501000000.0, "net_income": 62360000000.0, "score_value": 0.7, "score_risk": 0.36, "buffett_score": 0.515}, {"symbol": "CRM", "company": "Salesforce Inc.", "sector": "Technology", "industry": "Software - Application", "weight": 0.0268, "score_composite": 0.9818, "score_sm": 0.597, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -8.48, "perf_ytd": -29.02, "vol_30d": 28.37, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 46.25338, "td_price": 234.71001, "roe": 10.13, "roa": 6.02, "debt_equity": 0.19, "current_ratio": 1.06, "gross_margin": 77.19, "operating_margin": 20.23, "net_margin": 16.35, "capex_ratio": NaN, "fcf": 12434000000.0, "revenue": 37895000000.0, "net_income": 6197000000.0, "score_value": 0.7, "score_risk": 0.375, "buffett_score": 0.52}, {"symbol": "CME", "company": "CME Group Inc.", "sector": "Financial Services", "industry": "Financial Data & Stock Exchanges", "weight": 0.0268, "score_composite": 0.7624, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.6, "score_quality": 0.485, "perf_3m": 3.02, "perf_ytd": 19.24, "vol_30d": 17.17, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 53.89923, "td_price": 277.48999, "roe": 13.31, "roa": 2.57, "debt_equity": 0.13, "current_ratio": 1.01, "gross_margin": 86.13, "operating_margin": 64.13, "net_margin": 57.52, "capex_ratio": 1.53, "fcf": 3596500000.0, "revenue": 6130100000.0, "net_income": 3525800000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.548}, {"symbol": "INTU", "company": "Intuit Inc.", "sector": "Technology", "industry": "Software - Application", "weight": 0.0267, "score_composite": 1.162, "score_sm": 0.648, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -4.94, "perf_ytd": 2.06, "vol_30d": 24.69, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 42.57703, "td_price": 635.63, "roe": 19.63, "roa": 10.47, "debt_equity": 0.34, "current_ratio": 1.36, "gross_margin": 79.57, "operating_margin": 26.22, "net_margin": 20.55, "capex_ratio": 0.45, "fcf": 6083000000.0, "revenue": 18831000000.0, "net_income": 3869000000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.548}, {"symbol": "SLB", "company": "Schlumberger Limited", "sector": "Energy", "industry": "Oil & Gas Equipment & Services", "weight": 0.0265, "score_composite": 0.8954, "score_sm": 0.618, "score_insider": 0.5, "score_momentum": 0.6, "score_quality": 0.445, "perf_3m": 0.83, "perf_ytd": -5.44, "vol_30d": 27.81, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 53.055583, "td_price": 36.31, "roe": 20.49, "roa": 9.36, "debt_equity": 0.54, "current_ratio": 1.45, "gross_margin": 20.56, "operating_margin": 17.43, "net_margin": 12.62, "capex_ratio": NaN, "fcf": 4473000000.0, "revenue": 36289000000.0, "net_income": 4579000000.0, "score_value": 0.7, "score_risk": 0.375, "buffett_score": 0.507}, {"symbol": "CPRT", "company": "Copart Inc.", "sector": "Industrials", "industry": "Specialty Business Services", "weight": 0.0254, "score_composite": 1.0569, "score_sm": 0.631, "score_insider": 0.5, "score_momentum": 0.32, "score_quality": 0.485, "perf_3m": -19.04, "perf_ytd": -30.82, "vol_30d": 24.53, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 29.87225, "td_price": 38.96, "roe": 16.82, "roa": 15.34, "debt_equity": 0.01, "current_ratio": 8.42, "gross_margin": 45.18, "operating_margin": 36.51, "net_margin": 33.32, "capex_ratio": 11.56, "fcf": 1230760000.0, "revenue": 4646958000.0, "net_income": 1548363000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.548}];
        
        const ctx = document.getElementById('sectorChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ["Financial Services", "Consumer Defensive", "Energy", "Technology", "Communication Services", "Healthcare", "Industrials"],
                datasets: [{
                    data: [38.9, 8.6, 9.5, 15.8, 8.8, 11.7, 6.7],
                    backgroundColor: ["#f59e0b", "#06b6d4", "#f97316", "#3b82f6", "#ec4899", "#10b981", "#8b5cf6"],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right', labels: { color: '#94a3b8', font: { size: 10 } } }
                }
            }
        });
        
        function calculateAllocation() {
            const amount = parseFloat(document.getElementById('amount').value) || 0;
            const result = document.getElementById('allocation-result');
            let html = '';
            let total = 0;
            
            portfolio.forEach(pos => {
                const alloc = amount * pos.weight;
                const price = pos.td_price || pos.current_price || 0;
                const shares = price > 0 ? Math.floor(alloc / price) : 0;
                const actualAlloc = shares * price;
                total += actualAlloc;
                
                html += `<div class="alloc-row">
                    <span><strong>${pos.symbol}</strong></span>
                    <span>${shares} Ã— ${price.toFixed(0)} = ${actualAlloc.toFixed(0)}</span>
                </div>`;
            });
            
            html = `<div class="alloc-row" style="font-weight:bold; border-bottom: 2px solid #475569;">
                <span>TOTAL INVESTI</span>
                <span>${total.toFixed(0)} / ${amount.toFixed(0)}</span>
            </div>` + html;
            
            result.innerHTML = html;
        }
        
        document.getElementById('amount').addEventListener('input', calculateAllocation);
        calculateAllocation();
    </script>
</body>
</html>
