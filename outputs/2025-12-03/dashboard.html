<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartMoney Portfolio - 2025-12-03</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f172a;
            color: #e2e8f0;
            padding: 20px;
            line-height: 1.6;
        }
        .container { max-width: 1600px; margin: 0 auto; }
        h1 { font-size: 1.8rem; margin-bottom: 20px; color: #38bdf8; }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        .metric-card {
            background: #1e293b;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }
        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #38bdf8;
        }
        .metric-value.positive { color: #10b981; }
        .metric-value.negative { color: #ef4444; }
        .metric-label {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-top: 5px;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        @media (max-width: 1000px) { .grid-2 { grid-template-columns: 1fr; } }
        .card {
            background: #1e293b;
            border-radius: 12px;
            padding: 20px;
        }
        .card h2 {
            font-size: 1rem;
            margin-bottom: 15px;
            color: #94a3b8;
        }
        table { width: 100%; border-collapse: collapse; font-size: 0.8rem; }
        th, td { padding: 10px 6px; text-align: left; border-bottom: 1px solid #334155; }
        th { color: #94a3b8; font-weight: 500; font-size: 0.7rem; text-transform: uppercase; }
        tr:hover { background: #334155; }
        .ticker { font-weight: 600; color: #38bdf8; }
        .weight { color: #fbbf24; }
        .positive { color: #10b981; }
        .negative { color: #ef4444; }
        .neutral { color: #94a3b8; }
        .sector-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.65rem;
            background: #334155;
        }
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }
        .input-group label { color: #94a3b8; }
        .input-group input {
            background: #334155;
            border: 1px solid #475569;
            border-radius: 8px;
            padding: 10px 15px;
            color: #e2e8f0;
            font-size: 1rem;
            width: 150px;
        }
        .input-group input:focus { outline: none; border-color: #38bdf8; }
        #allocation-result {
            margin-top: 15px;
            padding: 15px;
            background: #0f172a;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
        }
        .alloc-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid #1e293b;
            font-size: 0.85rem;
        }
        .chart-container { position: relative; height: 280px; }
        .fundamentals-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #334155;
        }
        .fund-item { text-align: center; }
        .fund-value { font-size: 1.2rem; font-weight: 600; color: #38bdf8; }
        .fund-label { font-size: 0.7rem; color: #64748b; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“Š SmartMoney Portfolio â€” 2025-12-03</h1>
        
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value">18</div>
                <div class="metric-label">Positions</div>
            </div>
            <div class="metric-card">
                <div class="metric-value negative">
                    -1.1%
                </div>
                <div class="metric-label">Perf 3M</div>
            </div>
            <div class="metric-card">
                <div class="metric-value positive">
                    +1.9%
                </div>
                <div class="metric-label">Perf YTD</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">5.47%</div>
                <div class="metric-label">Vol 30j</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">33.4%</div>
                <div class="metric-label">ROE Moy.</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">0.61</div>
                <div class="metric-label">D/E Moy.</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">19.9%</div>
                <div class="metric-label">Marge Moy.</div>
            </div>
        </div>
        
        <div class="grid-2">
            <div class="card">
                <h2>RÃ©partition Sectorielle</h2>
                <div class="chart-container">
                    <canvas id="sectorChart"></canvas>
                </div>
            </div>
            
            <div class="card">
                <h2>Calculateur d'Allocation</h2>
                <div class="input-group">
                    <label for="amount">Montant:</label>
                    <input type="number" id="amount" value="10000" step="1000">
                    <span>â‚¬</span>
                </div>
                <div id="allocation-result"></div>
            </div>
        </div>
        
        <div class="card">
            <h2>Positions (18)</h2>
            <table>
                <thead>
                    <tr>
                        <th>Ticker</th>
                        <th>Secteur</th>
                        <th>Poids</th>
                        <th>Score</th>
                        <th>3M</th>
                        <th>YTD</th>
                        <th>Vol</th>
                        <th>RSI</th>
                        <th>ROE</th>
                        <th>D/E</th>
                        <th>Marge</th>
                        <th>CAPEX</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ticker">ACGL</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">12.09%</td>
                        <td>0.587</td>
                        <td class="negative">-0.2%</td>
                        <td class="positive">+1.4%</td>
                        <td>15%</td>
                        <td>58</td>
                        <td class="positive">20.7%</td>
                        <td class="positive">0.13</td>
                        <td class="positive">25.5%</td>
                        <td>0.3%</td>
                    </tr>
                    <tr>
                        <td class="ticker">AFL</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">11.17%</td>
                        <td>0.606</td>
                        <td class="positive">+2.0%</td>
                        <td class="positive">+6.3%</td>
                        <td>16%</td>
                        <td>43</td>
                        <td class="positive">20.9%</td>
                        <td class="positive">0.29</td>
                        <td class="positive">28.5%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">BLK</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">8.90%</td>
                        <td>0.666</td>
                        <td class="negative">-5.5%</td>
                        <td class="positive">+2.1%</td>
                        <td>19%</td>
                        <td>42</td>
                        <td class="neutral">13.2%</td>
                        <td class="positive">0.29</td>
                        <td class="positive">31.9%</td>
                        <td>1.2%</td>
                    </tr>
                    <tr>
                        <td class="ticker">BR</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">8.35%</td>
                        <td>0.594</td>
                        <td class="negative">-8.9%</td>
                        <td class="positive">+0.3%</td>
                        <td>17%</td>
                        <td>51</td>
                        <td class="positive">31.6%</td>
                        <td class="neutral">1.30</td>
                        <td class="positive">12.2%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">ADSK</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">8.17%</td>
                        <td>0.613</td>
                        <td class="negative">-2.3%</td>
                        <td class="positive">+5.8%</td>
                        <td>22%</td>
                        <td>61</td>
                        <td class="positive">42.4%</td>
                        <td class="positive">0.98</td>
                        <td class="positive">18.1%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">AAPL</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">8.02%</td>
                        <td>0.685</td>
                        <td class="positive">+20.0%</td>
                        <td class="positive">+17.4%</td>
                        <td>16%</td>
                        <td>75</td>
                        <td class="positive">151.9%</td>
                        <td class="neutral">1.34</td>
                        <td class="positive">26.9%</td>
                        <td>3.1%</td>
                    </tr>
                    <tr>
                        <td class="ticker">ADP</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">7.33%</td>
                        <td>0.622</td>
                        <td class="negative">-13.9%</td>
                        <td class="negative">-11.2%</td>
                        <td>24%</td>
                        <td>45</td>
                        <td class="positive">65.9%</td>
                        <td class="neutral">1.46</td>
                        <td class="positive">19.8%</td>
                        <td>0.1%</td>
                    </tr>
                    <tr>
                        <td class="ticker">ABT</td>
                        <td><span class="sector-badge">Healthcare</span></td>
                        <td class="weight">7.09%</td>
                        <td>0.666</td>
                        <td class="negative">-4.4%</td>
                        <td class="positive">+11.3%</td>
                        <td>19%</td>
                        <td>45</td>
                        <td class="positive">28.0%</td>
                        <td class="positive">0.31</td>
                        <td class="positive">31.9%</td>
                        <td>5.3%</td>
                    </tr>
                    <tr>
                        <td class="ticker">AMP</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">6.62%</td>
                        <td>0.721</td>
                        <td class="negative">-9.9%</td>
                        <td class="negative">-13.8%</td>
                        <td>24%</td>
                        <td>48</td>
                        <td class="positive">65.0%</td>
                        <td class="neutral">1.05</td>
                        <td class="positive">19.7%</td>
                        <td>1.0%</td>
                    </tr>
                    <tr>
                        <td class="ticker">ACN</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">5.95%</td>
                        <td>0.663</td>
                        <td class="positive">+2.7%</td>
                        <td class="negative">-25.2%</td>
                        <td>27%</td>
                        <td>63</td>
                        <td class="positive">24.3%</td>
                        <td class="positive">0.25</td>
                        <td class="positive">11.2%</td>
                        <td>0.9%</td>
                    </tr>
                    <tr>
                        <td class="ticker">AOS</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">3.70%</td>
                        <td>0.561</td>
                        <td class="negative">-6.8%</td>
                        <td class="negative">-2.0%</td>
                        <td>23%</td>
                        <td>49</td>
                        <td class="positive">28.3%</td>
                        <td class="positive">0.12</td>
                        <td class="positive">14.0%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">BKNG</td>
                        <td><span class="sector-badge">Consumer Cyc</span></td>
                        <td class="weight">2.83%</td>
                        <td>0.939</td>
                        <td class="negative">-8.0%</td>
                        <td class="positive">+4.3%</td>
                        <td>32%</td>
                        <td>57</td>
                        <td class="negative">-1.5%</td>
                        <td class="neutral">nan</td>
                        <td class="positive">24.8%</td>
                        <td>1.8%</td>
                    </tr>
                    <tr>
                        <td class="ticker">ADBE</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">2.77%</td>
                        <td>1.025</td>
                        <td class="negative">-7.4%</td>
                        <td class="negative">-26.8%</td>
                        <td>26%</td>
                        <td>44</td>
                        <td class="positive">39.4%</td>
                        <td class="positive">0.43</td>
                        <td class="positive">25.9%</td>
                        <td>0.8%</td>
                    </tr>
                    <tr>
                        <td class="ticker">AMZN</td>
                        <td><span class="sector-badge">Consumer Cyc</span></td>
                        <td class="weight">1.80%</td>
                        <td>0.956</td>
                        <td class="positive">+3.7%</td>
                        <td class="positive">+6.5%</td>
                        <td>41%</td>
                        <td>53</td>
                        <td class="positive">20.7%</td>
                        <td class="positive">0.46</td>
                        <td class="neutral">9.3%</td>
                        <td>12.2%</td>
                    </tr>
                    <tr>
                        <td class="ticker">ALGN</td>
                        <td><span class="sector-badge">Healthcare</span></td>
                        <td class="weight">1.59%</td>
                        <td>0.613</td>
                        <td class="positive">+14.0%</td>
                        <td class="negative">-27.6%</td>
                        <td>37%</td>
                        <td>68</td>
                        <td class="neutral">10.9%</td>
                        <td class="positive">0.03</td>
                        <td class="positive">10.5%</td>
                        <td>2.9%</td>
                    </tr>
                    <tr>
                        <td class="ticker">ADI</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">1.49%</td>
                        <td>0.488</td>
                        <td class="positive">+11.6%</td>
                        <td class="positive">+29.2%</td>
                        <td>34%</td>
                        <td>73</td>
                        <td class="neutral">6.7%</td>
                        <td class="positive">0.26</td>
                        <td class="positive">20.6%</td>
                        <td>4.3%</td>
                    </tr>
                    <tr>
                        <td class="ticker">APH</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">1.47%</td>
                        <td>0.402</td>
                        <td class="positive">+27.8%</td>
                        <td class="positive">+105.0%</td>
                        <td>37%</td>
                        <td>59</td>
                        <td class="positive">24.8%</td>
                        <td class="positive">0.70</td>
                        <td class="positive">16.0%</td>
                        <td>0.1%</td>
                    </tr>
                    <tr>
                        <td class="ticker">AVGO</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">0.64%</td>
                        <td>0.954</td>
                        <td class="positive">+26.2%</td>
                        <td class="positive">+64.5%</td>
                        <td>49%</td>
                        <td>58</td>
                        <td class="neutral">8.7%</td>
                        <td class="neutral">1.00</td>
                        <td class="positive">11.4%</td>
                        <td>1.1%</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <script>
        const portfolio = [{"symbol": "ACGL", "company": "Arch Capital Group Ltd.", "sector": "Financial Services", "industry": "Insurance - Diversified", "weight": 0.1209, "score_composite": 0.5869, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -0.23, "perf_ytd": 1.43, "vol_30d": 14.64, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 57.69004, "td_price": 92.69, "roe": 20.71, "roa": 6.08, "debt_equity": 0.13, "current_ratio": 0.56, "gross_margin": NaN, "operating_margin": 30.69, "net_margin": 25.47, "capex_ratio": 0.3, "fcf": 6622000000.0, "revenue": 16930000000.0, "net_income": 4312000000.0, "score_value": 0.62, "score_risk": 0.5, "buffett_score": 0.535}, {"symbol": "AFL", "company": "Aflac Inc.", "sector": "Financial Services", "industry": "Insurance - Life", "weight": 0.1117, "score_composite": 0.6057, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.6, "score_quality": 0.445, "perf_3m": 1.96, "perf_ytd": 6.32, "vol_30d": 16.15, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 42.60036, "td_price": 108.83, "roe": 20.86, "roa": 4.63, "debt_equity": 0.29, "current_ratio": 1.09, "gross_margin": NaN, "operating_margin": 43.27, "net_margin": 28.46, "capex_ratio": NaN, "fcf": 2707000000.0, "revenue": 19128000000.0, "net_income": 5443000000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.535}, {"symbol": "BLK", "company": "BlackRock Inc.", "sector": "Financial Services", "industry": "Asset Management", "weight": 0.089, "score_composite": 0.6664, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -5.54, "perf_ytd": 2.09, "vol_30d": 19.4, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 41.96118, "td_price": 1038.62, "roe": 13.19, "roa": 4.7, "debt_equity": 0.29, "current_ratio": 16.4, "gross_margin": 49.42, "operating_margin": 36.94, "net_margin": 31.91, "capex_ratio": 1.25, "fcf": 4701000000.0, "revenue": 20407000000.0, "net_income": 6512000000.0, "score_value": 0.7, "score_risk": 0.415, "buffett_score": 0.533}, {"symbol": "BR", "company": "Broadridge Financial Solutions, Inc.", "sector": "Technology", "industry": "Information Technology Services", "weight": 0.0835, "score_composite": 0.5938, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -8.89, "perf_ytd": 0.34, "vol_30d": 17.02, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 51.19448, "td_price": 227.61, "roe": 31.62, "roa": 9.82, "debt_equity": 1.3, "current_ratio": 0.98, "gross_margin": 31.02, "operating_margin": 17.25, "net_margin": 12.19, "capex_ratio": NaN, "fcf": 1056400000.0, "revenue": 6889100000.0, "net_income": 839500000.0, "score_value": 0.7, "score_risk": 0.355, "buffett_score": 0.513}, {"symbol": "ADSK", "company": "Autodesk Inc.", "sector": "Technology", "industry": "Software - Application", "weight": 0.0817, "score_composite": 0.6132, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.38, "score_quality": 0.485, "perf_3m": -2.29, "perf_ytd": 5.77, "vol_30d": 22.2, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 61.4362, "td_price": 310.25, "roe": 42.43, "roa": 10.26, "debt_equity": 0.98, "current_ratio": 0.68, "gross_margin": 90.57, "operating_margin": 22.33, "net_margin": 18.14, "capex_ratio": NaN, "fcf": 1505000000.0, "revenue": 6131000000.0, "net_income": 1112000000.0, "score_value": 0.7, "score_risk": 0.415, "buffett_score": 0.533}, {"symbol": "AAPL", "company": "Apple Inc.", "sector": "Technology", "industry": "Consumer Electronics", "weight": 0.0802, "score_composite": 0.6853, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.42, "score_quality": 0.485, "perf_3m": 20.01, "perf_ytd": 17.36, "vol_30d": 15.67, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 75.17935, "td_price": 286.19, "roe": 151.91, "roa": 31.18, "debt_equity": 1.34, "current_ratio": 0.89, "gross_margin": 46.91, "operating_margin": 31.97, "net_margin": 26.92, "capex_ratio": 3.06, "fcf": 98767000000.0, "revenue": 416161000000.0, "net_income": 112010000000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.548}, {"symbol": "ADP", "company": "Automatic Data Processing, Inc.", "sector": "Technology", "industry": "Software - Application", "weight": 0.0733, "score_composite": 0.622, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.4, "score_quality": 0.485, "perf_3m": -13.95, "perf_ytd": -11.21, "vol_30d": 23.75, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 45.27967, "td_price": 257.17999, "roe": 65.93, "roa": 7.64, "debt_equity": 1.46, "current_ratio": 1.05, "gross_margin": 46.03, "operating_margin": 26.32, "net_margin": 19.84, "capex_ratio": 0.05, "fcf": 4392700000.0, "revenue": 20560900000.0, "net_income": 4079700000.0, "score_value": 0.7, "score_risk": 0.415, "buffett_score": 0.533}, {"symbol": "ABT", "company": "Abbott Laboratories", "sector": "Healthcare", "industry": "Medical Devices", "weight": 0.0709, "score_composite": 0.6664, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -4.43, "perf_ytd": 11.35, "vol_30d": 18.96, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 45.31133, "td_price": 126.32, "roe": 27.98, "roa": 16.46, "debt_equity": 0.31, "current_ratio": 1.67, "gross_margin": 55.41, "operating_margin": 16.27, "net_margin": 31.95, "capex_ratio": 5.26, "fcf": 6351000000.0, "revenue": 41950000000.0, "net_income": 13402000000.0, "score_value": 0.7, "score_risk": 0.415, "buffett_score": 0.533}, {"symbol": "AMP", "company": "Ameriprise Financial, Inc.", "sector": "Financial Services", "industry": "Asset Management", "weight": 0.0662, "score_composite": 0.7208, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -9.94, "perf_ytd": -13.81, "vol_30d": 24.4, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 48.11652, "td_price": 456.79001, "roe": 65.05, "roa": 1.87, "debt_equity": 1.05, "current_ratio": 2.43, "gross_margin": NaN, "operating_margin": 37.3, "net_margin": 19.7, "capex_ratio": 1.02, "fcf": 6419000000.0, "revenue": 17264000000.0, "net_income": 3401000000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.548}, {"symbol": "ACN", "company": "Accenture plc", "sector": "Technology", "industry": "Information Technology Services", "weight": 0.0595, "score_composite": 0.6635, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.48, "score_quality": 0.485, "perf_3m": 2.7, "perf_ytd": -25.17, "vol_30d": 27.14, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 63.41263, "td_price": 261.019989, "roe": 24.29, "roa": 11.98, "debt_equity": 0.25, "current_ratio": 1.42, "gross_margin": 31.91, "operating_margin": 14.68, "net_margin": 11.24, "capex_ratio": 0.86, "fcf": 10874360000.0, "revenue": 69672977000.0, "net_income": 7832400000.0, "score_value": 0.7, "score_risk": 0.42, "buffett_score": 0.535}, {"symbol": "AOS", "company": "A. O. Smith Corporation", "sector": "Industrials", "industry": "Specialty Industrial Machinery", "weight": 0.037, "score_composite": 0.5614, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.445, "perf_3m": -6.82, "perf_ytd": -2.03, "vol_30d": 23.25, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 49.22379, "td_price": 65.96, "roe": 28.33, "roa": 16.47, "debt_equity": 0.12, "current_ratio": 1.55, "gross_margin": 38.14, "operating_margin": 18.77, "net_margin": 13.98, "capex_ratio": NaN, "fcf": 473800000.0, "revenue": 3818100000.0, "net_income": 533600000.0, "score_value": 0.7, "score_risk": 0.46, "buffett_score": 0.535}, {"symbol": "BKNG", "company": "Booking Holdings Inc.", "sector": "Consumer Cyclical", "industry": "Travel Services", "weight": 0.0283, "score_composite": 0.9392, "score_sm": 0.581, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -8.02, "perf_ytd": 4.26, "vol_30d": 32.07, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 57.43662, "td_price": 5135.069824, "roe": -1.46, "roa": 21.23, "debt_equity": NaN, "current_ratio": 1.31, "gross_margin": NaN, "operating_margin": 31.83, "net_margin": 24.78, "capex_ratio": 1.81, "fcf": 7894000000.0, "revenue": 23739000000.0, "net_income": 5882000000.0, "score_value": 0.7, "score_risk": 0.375, "buffett_score": 0.52}, {"symbol": "ADBE", "company": "Adobe Inc.", "sector": "Technology", "industry": "Software - Application", "weight": 0.0277, "score_composite": 1.0252, "score_sm": 0.61, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -7.37, "perf_ytd": -26.8, "vol_30d": 26.15, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 43.66123, "td_price": 322.81, "roe": 39.42, "roa": 18.39, "debt_equity": 0.43, "current_ratio": 1.07, "gross_margin": 89.04, "operating_margin": 36.0, "net_margin": 25.85, "capex_ratio": 0.85, "fcf": 7873000000.0, "revenue": 21505000000.0, "net_income": 5560000000.0, "score_value": 0.7, "score_risk": 0.42, "buffett_score": 0.535}, {"symbol": "AMZN", "company": "Amazon.com Inc.", "sector": "Consumer Cyclical", "industry": "Internet Retail", "weight": 0.018, "score_composite": 0.9558, "score_sm": 0.915, "score_insider": 0.5, "score_momentum": 0.6, "score_quality": 0.405, "perf_3m": 3.73, "perf_ytd": 6.45, "vol_30d": 41.24, "gp_buys": 8, "gp_tier": "A", "insider_buys": 0, "rsi": 53.41553, "td_price": 234.42, "roe": 20.72, "roa": 9.48, "debt_equity": 0.46, "current_ratio": 1.06, "gross_margin": 48.85, "operating_margin": 10.75, "net_margin": 9.29, "capex_ratio": 12.17, "fcf": 32878000000.0, "revenue": 637959000000.0, "net_income": 59248000000.0, "score_value": 0.7, "score_risk": 0.315, "buffett_score": 0.473}, {"symbol": "ALGN", "company": "Align Technology, Inc.", "sector": "Healthcare", "industry": "Medical Instruments & Supplies", "weight": 0.0159, "score_composite": 0.6131, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.53, "score_quality": 0.485, "perf_3m": 14.04, "perf_ytd": -27.61, "vol_30d": 36.9, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 67.74383, "td_price": 150.92999, "roe": 10.94, "roa": 6.78, "debt_equity": 0.03, "current_ratio": 1.22, "gross_margin": 70.0, "operating_margin": 16.8, "net_margin": 10.54, "capex_ratio": 2.89, "fcf": 622651000.0, "revenue": 3999012000.0, "net_income": 421362000.0, "score_value": 0.7, "score_risk": 0.36, "buffett_score": 0.515}, {"symbol": "ADI", "company": "Analog Devices, Inc.", "sector": "Technology", "industry": "Semiconductors", "weight": 0.0149, "score_composite": 0.4878, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.37, "score_quality": 0.485, "perf_3m": 11.62, "perf_ytd": 29.16, "vol_30d": 34.34, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 73.12691, "td_price": 272.97, "roe": 6.7, "roa": 4.72, "debt_equity": 0.26, "current_ratio": 2.19, "gross_margin": 61.47, "operating_margin": 27.25, "net_margin": 20.58, "capex_ratio": 4.31, "fcf": 4278650000.0, "revenue": 11019707000.0, "net_income": 2267342000.0, "score_value": 0.7, "score_risk": 0.315, "buffett_score": 0.5}, {"symbol": "APH", "company": "Amphenol Corporation", "sector": "Technology", "industry": "Electronic Components", "weight": 0.0147, "score_composite": 0.4021, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.7, "score_quality": 0.445, "perf_3m": 27.83, "perf_ytd": 105.03, "vol_30d": 36.85, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 59.40326, "td_price": 141.49001, "roe": 24.77, "roa": 11.39, "debt_equity": 0.7, "current_ratio": 2.37, "gross_margin": 33.76, "operating_margin": 21.58, "net_margin": 16.04, "capex_ratio": 0.05, "fcf": 2149300000.0, "revenue": 15222700000.0, "net_income": 2441600000.0, "score_value": 0.7, "score_risk": 0.255, "buffett_score": 0.467}, {"symbol": "AVGO", "company": "Broadcom Inc.", "sector": "Technology", "industry": "Semiconductors", "weight": 0.0064, "score_composite": 0.9543, "score_sm": 0.73, "score_insider": 0.5, "score_momentum": 0.7, "score_quality": 0.485, "perf_3m": 26.18, "perf_ytd": 64.48, "vol_30d": 48.77, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 57.57546, "td_price": 381.57001, "roe": 8.71, "roa": 3.56, "debt_equity": 1.0, "current_ratio": 1.17, "gross_margin": 63.03, "operating_margin": 29.08, "net_margin": 11.43, "capex_ratio": 1.06, "fcf": 19414000000.0, "revenue": 51574000000.0, "net_income": 5895000000.0, "score_value": 0.7, "score_risk": 0.18, "buffett_score": 0.455}];
        
        const ctx = document.getElementById('sectorChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ["Financial Services", "Technology", "Healthcare", "Industrials", "Consumer Cyclical"],
                datasets: [{
                    data: [38.8, 44.2, 8.7, 3.7, 4.6],
                    backgroundColor: ["#f59e0b", "#3b82f6", "#10b981", "#8b5cf6", "#ef4444"],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right', labels: { color: '#94a3b8', font: { size: 10 } } }
                }
            }
        });
        
        function calculateAllocation() {
            const amount = parseFloat(document.getElementById('amount').value) || 0;
            const result = document.getElementById('allocation-result');
            let html = '';
            let total = 0;
            
            portfolio.forEach(pos => {
                const alloc = amount * pos.weight;
                const price = pos.td_price || pos.current_price || 0;
                const shares = price > 0 ? Math.floor(alloc / price) : 0;
                const actualAlloc = shares * price;
                total += actualAlloc;
                
                html += `<div class="alloc-row">
                    <span><strong>${pos.symbol}</strong></span>
                    <span>${shares} Ã— ${price.toFixed(0)} = ${actualAlloc.toFixed(0)}</span>
                </div>`;
            });
            
            html = `<div class="alloc-row" style="font-weight:bold; border-bottom: 2px solid #475569;">
                <span>TOTAL INVESTI</span>
                <span>${total.toFixed(0)} / ${amount.toFixed(0)}</span>
            </div>` + html;
            
            result.innerHTML = html;
        }
        
        document.getElementById('amount').addEventListener('input', calculateAllocation);
        calculateAllocation();
    </script>
</body>
</html>
