<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartMoney Portfolio - 2026-03-02</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f172a;
            color: #e2e8f0;
            padding: 20px;
            line-height: 1.6;
        }
        .container { max-width: 1600px; margin: 0 auto; }
        h1 { font-size: 1.8rem; margin-bottom: 20px; color: #38bdf8; }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        .metric-card {
            background: #1e293b;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }
        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #38bdf8;
        }
        .metric-value.positive { color: #10b981; }
        .metric-value.negative { color: #ef4444; }
        .metric-label {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-top: 5px;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        @media (max-width: 1000px) { .grid-2 { grid-template-columns: 1fr; } }
        .card {
            background: #1e293b;
            border-radius: 12px;
            padding: 20px;
        }
        .card h2 {
            font-size: 1rem;
            margin-bottom: 15px;
            color: #94a3b8;
        }
        table { width: 100%; border-collapse: collapse; font-size: 0.8rem; }
        th, td { padding: 10px 6px; text-align: left; border-bottom: 1px solid #334155; }
        th { color: #94a3b8; font-weight: 500; font-size: 0.7rem; text-transform: uppercase; }
        tr:hover { background: #334155; }
        .ticker { font-weight: 600; color: #38bdf8; }
        .weight { color: #fbbf24; }
        .positive { color: #10b981; }
        .negative { color: #ef4444; }
        .neutral { color: #94a3b8; }
        .sector-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.65rem;
            background: #334155;
        }
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }
        .input-group label { color: #94a3b8; }
        .input-group input {
            background: #334155;
            border: 1px solid #475569;
            border-radius: 8px;
            padding: 10px 15px;
            color: #e2e8f0;
            font-size: 1rem;
            width: 150px;
        }
        .input-group input:focus { outline: none; border-color: #38bdf8; }
        #allocation-result {
            margin-top: 15px;
            padding: 15px;
            background: #0f172a;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
        }
        .alloc-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid #1e293b;
            font-size: 0.85rem;
        }
        .chart-container { position: relative; height: 280px; }
        .fundamentals-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #334155;
        }
        .fund-item { text-align: center; }
        .fund-value { font-size: 1.2rem; font-weight: 600; color: #38bdf8; }
        .fund-label { font-size: 0.7rem; color: #64748b; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“Š SmartMoney Portfolio â€” 2026-03-02</h1>
        
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value">20</div>
                <div class="metric-label">Positions</div>
            </div>
            <div class="metric-card">
                <div class="metric-value positive">
                    +6.9%
                </div>
                <div class="metric-label">Perf 3M</div>
            </div>
            <div class="metric-card">
                <div class="metric-value positive">
                    +5.55%
                </div>
                <div class="metric-label">Perf YTD</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">5.64%</div>
                <div class="metric-label">Vol 30j</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">26.9%</div>
                <div class="metric-label">ROE Moy.</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">0.64</div>
                <div class="metric-label">D/E Moy.</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">25.5%</div>
                <div class="metric-label">Marge Moy.</div>
            </div>
        </div>
        
        <div class="grid-2">
            <div class="card">
                <h2>RÃ©partition Sectorielle</h2>
                <div class="chart-container">
                    <canvas id="sectorChart"></canvas>
                </div>
            </div>
            
            <div class="card">
                <h2>Calculateur d'Allocation</h2>
                <div class="input-group">
                    <label for="amount">Montant:</label>
                    <input type="number" id="amount" value="10000" step="1000">
                    <span>â‚¬</span>
                </div>
                <div id="allocation-result"></div>
            </div>
        </div>
        
        <div class="card">
            <h2>Positions (20)</h2>
            <table>
                <thead>
                    <tr>
                        <th>Ticker</th>
                        <th>Secteur</th>
                        <th>Poids</th>
                        <th>Score</th>
                        <th>3M</th>
                        <th>YTD</th>
                        <th>Vol</th>
                        <th>RSI</th>
                        <th>ROE</th>
                        <th>D/E</th>
                        <th>Marge</th>
                        <th>CAPEX</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ticker">V</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">12.00%</td>
                        <td>1.181</td>
                        <td class="negative">-4.3%</td>
                        <td class="negative">-7.6%</td>
                        <td>26%</td>
                        <td>47</td>
                        <td class="positive">52.9%</td>
                        <td class="positive">0.66</td>
                        <td class="positive">50.1%</td>
                        <td>3.7%</td>
                    </tr>
                    <tr>
                        <td class="ticker">EA</td>
                        <td><span class="sector-badge">Communicatio</span></td>
                        <td class="weight">11.13%</td>
                        <td>0.519</td>
                        <td class="negative">-0.5%</td>
                        <td class="negative">-1.9%</td>
                        <td>10%</td>
                        <td>45</td>
                        <td class="positive">17.6%</td>
                        <td class="positive">0.31</td>
                        <td class="positive">15.0%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">PG</td>
                        <td><span class="sector-badge">Consumer Def</span></td>
                        <td class="weight">9.22%</td>
                        <td>0.741</td>
                        <td class="positive">+12.6%</td>
                        <td class="positive">+17.9%</td>
                        <td>18%</td>
                        <td>72</td>
                        <td class="positive">30.7%</td>
                        <td class="positive">0.68</td>
                        <td class="positive">19.1%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">PM</td>
                        <td><span class="sector-badge">Consumer Def</span></td>
                        <td class="weight">7.41%</td>
                        <td>0.772</td>
                        <td class="positive">+18.7%</td>
                        <td class="positive">+16.6%</td>
                        <td>21%</td>
                        <td>62</td>
                        <td class="negative">-1.4%</td>
                        <td class="neutral">nan</td>
                        <td class="positive">29.1%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CTAS</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">7.18%</td>
                        <td>0.476</td>
                        <td class="positive">+9.5%</td>
                        <td class="positive">+8.8%</td>
                        <td>16%</td>
                        <td>62</td>
                        <td class="positive">38.7%</td>
                        <td class="positive">0.57</td>
                        <td class="positive">17.5%</td>
                        <td>0.2%</td>
                    </tr>
                    <tr>
                        <td class="ticker">UNP</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">6.56%</td>
                        <td>1.012</td>
                        <td class="positive">+15.7%</td>
                        <td class="positive">+14.3%</td>
                        <td>24%</td>
                        <td>68</td>
                        <td class="positive">38.6%</td>
                        <td class="neutral">1.78</td>
                        <td class="positive">29.1%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CMCSA</td>
                        <td><span class="sector-badge">Communicatio</span></td>
                        <td class="weight">6.22%</td>
                        <td>0.768</td>
                        <td class="positive">+23.8%</td>
                        <td class="positive">+11.8%</td>
                        <td>23%</td>
                        <td>55</td>
                        <td class="positive">20.2%</td>
                        <td class="neutral">1.02</td>
                        <td class="positive">15.9%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">NVDA</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">4.37%</td>
                        <td>0.993</td>
                        <td class="negative">-0.3%</td>
                        <td class="negative">-6.2%</td>
                        <td>41%</td>
                        <td>40</td>
                        <td class="positive">76.3%</td>
                        <td class="positive">0.07</td>
                        <td class="positive">55.6%</td>
                        <td>2.8%</td>
                    </tr>
                    <tr>
                        <td class="ticker">QCOM</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">4.10%</td>
                        <td>0.833</td>
                        <td class="negative">-12.8%</td>
                        <td class="negative">-17.7%</td>
                        <td>34%</td>
                        <td>41</td>
                        <td class="positive">26.1%</td>
                        <td class="positive">0.70</td>
                        <td class="positive">12.5%</td>
                        <td>0.0%</td>
                    </tr>
                    <tr>
                        <td class="ticker">SNA</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">4.04%</td>
                        <td>0.476</td>
                        <td class="positive">+13.2%</td>
                        <td class="positive">+9.8%</td>
                        <td>18%</td>
                        <td>61</td>
                        <td class="positive">17.5%</td>
                        <td class="positive">0.22</td>
                        <td class="positive">20.2%</td>
                        <td>0.4%</td>
                    </tr>
                    <tr>
                        <td class="ticker">KO</td>
                        <td><span class="sector-badge">Consumer Def</span></td>
                        <td class="weight">3.29%</td>
                        <td>0.455</td>
                        <td class="positive">+12.3%</td>
                        <td class="positive">+18.0%</td>
                        <td>16%</td>
                        <td>74</td>
                        <td class="positive">38.3%</td>
                        <td class="neutral">1.33</td>
                        <td class="positive">27.4%</td>
                        <td>4.4%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CINF</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">3.10%</td>
                        <td>0.463</td>
                        <td class="negative">-2.6%</td>
                        <td class="positive">+1.5%</td>
                        <td>22%</td>
                        <td>51</td>
                        <td class="positive">15.0%</td>
                        <td class="positive">0.06</td>
                        <td class="positive">18.9%</td>
                        <td>0.2%</td>
                    </tr>
                    <tr>
                        <td class="ticker">GOOGL</td>
                        <td><span class="sector-badge">Communicatio</span></td>
                        <td class="weight">3.05%</td>
                        <td>0.927</td>
                        <td class="negative">-3.6%</td>
                        <td class="negative">-1.1%</td>
                        <td>23%</td>
                        <td>45</td>
                        <td class="positive">31.8%</td>
                        <td class="positive">0.14</td>
                        <td class="positive">32.8%</td>
                        <td>22.7%</td>
                    </tr>
                    <tr>
                        <td class="ticker">MMC</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">2.89%</td>
                        <td>0.670</td>
                        <td class="positive">+2.6%</td>
                        <td class="positive">+2.3%</td>
                        <td>32%</td>
                        <td>60</td>
                        <td class="positive">27.6%</td>
                        <td class="neutral">1.40</td>
                        <td class="positive">15.7%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CPRT</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">2.88%</td>
                        <td>0.832</td>
                        <td class="negative">-2.5%</td>
                        <td class="positive">+0.8%</td>
                        <td>34%</td>
                        <td>49</td>
                        <td class="positive">16.8%</td>
                        <td class="positive">0.01</td>
                        <td class="positive">33.3%</td>
                        <td>11.6%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CME</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">2.63%</td>
                        <td>0.496</td>
                        <td class="positive">+15.3%</td>
                        <td class="positive">+18.5%</td>
                        <td>19%</td>
                        <td>70</td>
                        <td class="neutral">13.3%</td>
                        <td class="positive">0.13</td>
                        <td class="positive">57.5%</td>
                        <td>1.5%</td>
                    </tr>
                    <tr>
                        <td class="ticker">UPS</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">2.63%</td>
                        <td>0.491</td>
                        <td class="positive">+22.7%</td>
                        <td class="positive">+14.8%</td>
                        <td>27%</td>
                        <td>57</td>
                        <td class="positive">34.3%</td>
                        <td class="neutral">1.76</td>
                        <td class="neutral">6.3%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">GL</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">2.52%</td>
                        <td>0.463</td>
                        <td class="positive">+7.3%</td>
                        <td class="positive">+4.9%</td>
                        <td>19%</td>
                        <td>57</td>
                        <td class="positive">19.4%</td>
                        <td class="positive">0.44</td>
                        <td class="positive">19.4%</td>
                        <td>2.4%</td>
                    </tr>
                    <tr>
                        <td class="ticker">AME</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">2.44%</td>
                        <td>0.496</td>
                        <td class="positive">+21.3%</td>
                        <td class="positive">+14.4%</td>
                        <td>20%</td>
                        <td>66</td>
                        <td class="neutral">13.9%</td>
                        <td class="positive">0.22</td>
                        <td class="positive">20.0%</td>
                        <td>1.8%</td>
                    </tr>
                    <tr>
                        <td class="ticker">MDT</td>
                        <td><span class="sector-badge">Healthcare</span></td>
                        <td class="weight">2.34%</td>
                        <td>0.580</td>
                        <td class="negative">-7.3%</td>
                        <td class="positive">+1.7%</td>
                        <td>20%</td>
                        <td>45</td>
                        <td class="neutral">9.7%</td>
                        <td class="positive">0.59</td>
                        <td class="positive">14.0%</td>
                        <td>5.5%</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <script>
        const portfolio = [{"symbol": "V", "company": "Visa Inc. Class A", "sector": "Financial Services", "industry": "Credit Services", "weight": 0.12, "score_composite": 1.1805, "score_sm": 0.914, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -4.3, "perf_ytd": -7.6, "vol_30d": 25.77, "gp_buys": 8, "gp_tier": "A", "insider_buys": 0, "rsi": 47.12858, "td_price": 320.14001, "roe": 52.91, "roa": 20.13, "debt_equity": 0.66, "current_ratio": 1.08, "gross_margin": 80.36, "operating_margin": 66.39, "net_margin": 50.14, "capex_ratio": 3.71, "fcf": 21577000000.0, "revenue": 40000000000.0, "net_income": 20058000000.0, "score_value": 0.5, "score_risk": 0.42, "buffett_score": 0.468}, {"symbol": "EA", "company": "Electronic Arts Inc.", "sector": "Communication Services", "industry": "Electronic Gaming & Multimedia", "weight": 0.1113, "score_composite": 0.5189, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -0.54, "perf_ytd": -1.88, "vol_30d": 9.58, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 45.23991, "td_price": 200.57001, "roe": 17.55, "roa": 9.06, "debt_equity": 0.31, "current_ratio": 0.95, "gross_margin": 79.32, "operating_margin": 21.13, "net_margin": 15.02, "capex_ratio": NaN, "fcf": 1858000000.0, "revenue": 7463000000.0, "net_income": 1121000000.0, "score_value": 0.5, "score_risk": 0.5, "buffett_score": 0.495}, {"symbol": "PG", "company": "Procter & Gamble Co", "sector": "Consumer Defensive", "industry": "Household & Personal Products", "weight": 0.0922, "score_composite": 0.7406, "score_sm": 0.606, "score_insider": 0.5, "score_momentum": 0.37, "score_quality": 0.485, "perf_3m": 12.6, "perf_ytd": 17.92, "vol_30d": 17.98, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 71.98123, "td_price": 167.2, "roe": 30.73, "roa": 12.83, "debt_equity": 0.68, "current_ratio": 0.7, "gross_margin": 51.16, "operating_margin": 24.26, "net_margin": 19.06, "capex_ratio": NaN, "fcf": 14044000000.0, "revenue": 84284000000.0, "net_income": 16065000000.0, "score_value": 0.5, "score_risk": 0.415, "buffett_score": 0.467}, {"symbol": "PM", "company": "Philip Morris International Inc.", "sector": "Consumer Defensive", "industry": "Tobacco", "weight": 0.0741, "score_composite": 0.7722, "score_sm": 0.629, "score_insider": 0.5, "score_momentum": 0.58, "score_quality": 0.485, "perf_3m": 18.69, "perf_ytd": 16.55, "vol_30d": 20.9, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 62.19322, "td_price": 186.83, "roe": -1.41, "roa": 17.13, "debt_equity": NaN, "current_ratio": 0.96, "gross_margin": 67.12, "operating_margin": 36.74, "net_margin": 29.15, "capex_ratio": NaN, "fcf": 10664000000.0, "revenue": 40648000000.0, "net_income": 11848000000.0, "score_value": 0.5, "score_risk": 0.355, "buffett_score": 0.447}, {"symbol": "CTAS", "company": "Cintas Corporation", "sector": "Industrials", "industry": "Specialty Business Services", "weight": 0.0718, "score_composite": 0.4756, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.53, "score_quality": 0.485, "perf_3m": 9.51, "perf_ytd": 8.79, "vol_30d": 15.81, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 62.082728, "td_price": 201.13, "roe": 38.69, "roa": 18.45, "debt_equity": 0.57, "current_ratio": 2.09, "gross_margin": 50.04, "operating_margin": 22.82, "net_margin": 17.53, "capex_ratio": 0.23, "fcf": 1757021000.0, "revenue": 10340181000.0, "net_income": 1812281000.0, "score_value": 0.5, "score_risk": 0.46, "buffett_score": 0.482}, {"symbol": "UNP", "company": "Union Pacific Corporation", "sector": "Industrials", "industry": "Railroads", "weight": 0.0656, "score_composite": 1.0122, "score_sm": 0.824, "score_insider": 0.5, "score_momentum": 0.58, "score_quality": 0.485, "perf_3m": 15.65, "perf_ytd": 14.26, "vol_30d": 23.73, "gp_buys": 5, "gp_tier": "C", "insider_buys": 0, "rsi": 67.84374, "td_price": 264.98001, "roe": 38.65, "roa": 10.24, "debt_equity": 1.78, "current_ratio": 0.91, "gross_margin": 45.78, "operating_margin": 40.17, "net_margin": 29.12, "capex_ratio": NaN, "fcf": 5499000000.0, "revenue": 24510000000.0, "net_income": 7138000000.0, "score_value": 0.5, "score_risk": 0.355, "buffett_score": 0.447}, {"symbol": "CMCSA", "company": "Comcast Corp", "sector": "Communication Services", "industry": "Telecom Services", "weight": 0.0622, "score_composite": 0.7677, "score_sm": 0.585, "score_insider": 0.5, "score_momentum": 0.7, "score_quality": 0.485, "perf_3m": 23.82, "perf_ytd": 11.83, "vol_30d": 22.64, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 55.01888, "td_price": 30.96, "roe": 20.19, "roa": 7.21, "debt_equity": 1.02, "current_ratio": 0.88, "gross_margin": 71.75, "operating_margin": 16.71, "net_margin": 15.89, "capex_ratio": NaN, "fcf": 19235000000.0, "revenue": 123707000000.0, "net_income": 19660000000.0, "score_value": 0.5, "score_risk": 0.355, "buffett_score": 0.447}, {"symbol": "NVDA", "company": "NVIDIA Corporation", "sector": "Technology", "industry": "Semiconductors", "weight": 0.0437, "score_composite": 0.9934, "score_sm": 0.83, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -0.35, "perf_ytd": -6.17, "vol_30d": 41.44, "gp_buys": 8, "gp_tier": "A", "insider_buys": 0, "rsi": 40.34614, "td_price": 177.19, "roe": 76.33, "roa": 58.06, "debt_equity": 0.07, "current_ratio": 3.91, "gross_margin": 71.07, "operating_margin": 60.38, "net_margin": 55.6, "capex_ratio": 2.8, "fcf": 96676000000.0, "revenue": 215938000000.0, "net_income": 120067000000.0, "score_value": 0.5, "score_risk": 0.36, "buffett_score": 0.448}, {"symbol": "QCOM", "company": "QUALCOMM Incorporated", "sector": "Technology", "industry": "Semiconductors", "weight": 0.041, "score_composite": 0.8326, "score_sm": 0.665, "score_insider": 0.5, "score_momentum": 0.4, "score_quality": 0.485, "perf_3m": -12.82, "perf_ytd": -17.7, "vol_30d": 33.98, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 40.85611, "td_price": 142.36, "roe": 26.13, "roa": 11.05, "debt_equity": 0.7, "current_ratio": 2.82, "gross_margin": 55.43, "operating_margin": 27.99, "net_margin": 12.51, "capex_ratio": 0.03, "fcf": 12820000000.0, "revenue": 44284000000.0, "net_income": 5541000000.0, "score_value": 0.5, "score_risk": 0.42, "buffett_score": 0.468}, {"symbol": "SNA", "company": "Snap-on Inc.", "sector": "Industrials", "industry": "Tools & Accessories", "weight": 0.0404, "score_composite": 0.4756, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.53, "score_quality": 0.485, "perf_3m": 13.2, "perf_ytd": 9.76, "vol_30d": 17.98, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 61.19499, "td_price": 385.22, "roe": 17.5, "roa": 12.39, "debt_equity": 0.22, "current_ratio": 4.79, "gross_margin": 51.73, "operating_margin": 25.75, "net_margin": 20.21, "capex_ratio": 0.4, "fcf": 1005700000.0, "revenue": 5156100000.0, "net_income": 1042300000.0, "score_value": 0.5, "score_risk": 0.46, "buffett_score": 0.482}, {"symbol": "KO", "company": "The Coca-Cola Company", "sector": "Consumer Defensive", "industry": "Beverages - Non-Alcoholic", "weight": 0.0329, "score_composite": 0.455, "score_sm": 0.584, "score_insider": 0.5, "score_momentum": 0.37, "score_quality": 0.445, "perf_3m": 12.33, "perf_ytd": 18.0, "vol_30d": 15.57, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 74.30962, "td_price": 81.56, "roe": 38.33, "roa": 12.53, "debt_equity": 1.33, "current_ratio": 1.46, "gross_margin": 61.63, "operating_margin": 31.1, "net_margin": 27.4, "capex_ratio": 4.38, "fcf": 5296000000.0, "revenue": 47941000000.0, "net_income": 13137000000.0, "score_value": 0.5, "score_risk": 0.355, "buffett_score": 0.433}, {"symbol": "CINF", "company": "Cincinnati Financial Corp", "sector": "Financial Services", "industry": "Insurance - Property & Casualty", "weight": 0.031, "score_composite": 0.4632, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -2.61, "perf_ytd": 1.54, "vol_30d": 22.44, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 50.9434, "td_price": 163.98, "roe": 15.04, "roa": 5.84, "debt_equity": 0.06, "current_ratio": 0.64, "gross_margin": NaN, "operating_margin": 27.6, "net_margin": 18.95, "capex_ratio": 0.16, "fcf": 3092000000.0, "revenue": 12631000000.0, "net_income": 2393000000.0, "score_value": 0.5, "score_risk": 0.46, "buffett_score": 0.482}, {"symbol": "GOOGL", "company": "Alphabet Inc.", "sector": "Communication Services", "industry": "Internet Content & Information", "weight": 0.0305, "score_composite": 0.9273, "score_sm": 0.663, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -3.61, "perf_ytd": -1.08, "vol_30d": 23.49, "gp_buys": 5, "gp_tier": "C", "insider_buys": 0, "rsi": 45.26757, "td_price": 311.76001, "roe": 31.83, "roa": 22.2, "debt_equity": 0.14, "current_ratio": 2.01, "gross_margin": 59.65, "operating_margin": 32.03, "net_margin": 32.81, "capex_ratio": 22.7, "fcf": 73266000000.0, "revenue": 402836000000.0, "net_income": 132170000000.0, "score_value": 0.5, "score_risk": 0.46, "buffett_score": 0.482}, {"symbol": "MMC", "company": "Marsh & McLennan Companies, Inc.", "sector": "Financial Services", "industry": "Insurance Brokers", "weight": 0.0289, "score_composite": 0.6705, "score_sm": 0.585, "score_insider": 0.5, "score_momentum": 0.6, "score_quality": 0.485, "perf_3m": 2.59, "perf_ytd": 2.34, "vol_30d": 32.39, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 59.81281, "td_price": 186.74001, "roe": 27.65, "roa": 7.21, "debt_equity": 1.4, "current_ratio": 1.1, "gross_margin": 42.27, "operating_margin": 23.06, "net_margin": 15.69, "capex_ratio": NaN, "fcf": 5001000000.0, "revenue": 26981000000.0, "net_income": 4234000000.0, "score_value": 0.5, "score_risk": 0.315, "buffett_score": 0.433}, {"symbol": "CPRT", "company": "Copart Inc", "sector": "Industrials", "industry": "Specialty Business Services", "weight": 0.0288, "score_composite": 0.8321, "score_sm": 0.631, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -2.48, "perf_ytd": 0.85, "vol_30d": 33.83, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 48.96377, "td_price": 38.09, "roe": 16.82, "roa": 15.34, "debt_equity": 0.01, "current_ratio": 8.42, "gross_margin": 45.18, "operating_margin": 36.51, "net_margin": 33.32, "capex_ratio": 11.56, "fcf": 1230760000.0, "revenue": 4646958000.0, "net_income": 1548363000.0, "score_value": 0.5, "score_risk": 0.42, "buffett_score": 0.468}, {"symbol": "CME", "company": "CME Group Inc.", "sector": "Financial Services", "industry": "Financial Data & Stock Exchanges", "weight": 0.0263, "score_composite": 0.4963, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.58, "score_quality": 0.485, "perf_3m": 15.35, "perf_ytd": 18.47, "vol_30d": 19.13, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 69.77302, "td_price": 319.5, "roe": 13.31, "roa": 2.57, "debt_equity": 0.13, "current_ratio": 1.01, "gross_margin": 86.13, "operating_margin": 64.13, "net_margin": 57.52, "capex_ratio": 1.53, "fcf": 3596500000.0, "revenue": 6130100000.0, "net_income": 3525800000.0, "score_value": 0.5, "score_risk": 0.46, "buffett_score": 0.482}, {"symbol": "UPS", "company": "United Parcel Service, Inc.", "sector": "Industrials", "industry": "Integrated Freight & Logistics", "weight": 0.0263, "score_composite": 0.4914, "score_sm": 0.69, "score_insider": 0.5, "score_momentum": 0.7, "score_quality": 0.405, "perf_3m": 22.66, "perf_ytd": 14.79, "vol_30d": 27.35, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 56.99404, "td_price": 115.96, "roe": 34.28, "roa": 7.62, "debt_equity": 1.76, "current_ratio": 1.22, "gross_margin": 18.08, "operating_margin": 8.87, "net_margin": 6.28, "capex_ratio": NaN, "fcf": 4765000000.0, "revenue": 88661000000.0, "net_income": 5572000000.0, "score_value": 0.5, "score_risk": 0.315, "buffett_score": 0.407}, {"symbol": "GL", "company": "Globe Life Inc.", "sector": "Financial Services", "industry": "Insurance - Life", "weight": 0.0252, "score_composite": 0.4625, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.65, "score_quality": 0.485, "perf_3m": 7.31, "perf_ytd": 4.94, "vol_30d": 18.72, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 56.91762, "td_price": 145.25999, "roe": 19.44, "roa": 3.77, "debt_equity": 0.44, "current_ratio": 0.76, "gross_margin": NaN, "operating_margin": 24.24, "net_margin": 19.37, "capex_ratio": 2.38, "fcf": 1253907000.0, "revenue": 5994318000.0, "net_income": 1161238000.0, "score_value": 0.5, "score_risk": 0.415, "buffett_score": 0.467}, {"symbol": "AME", "company": "Ametek Inc.", "sector": "Industrials", "industry": "Specialty Industrial Machinery", "weight": 0.0244, "score_composite": 0.4963, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.58, "score_quality": 0.485, "perf_3m": 21.3, "perf_ytd": 14.38, "vol_30d": 19.91, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 66.12071, "td_price": 239.22, "roe": 13.93, "roa": 9.21, "debt_equity": 0.22, "current_ratio": 1.06, "gross_margin": 36.04, "operating_margin": 25.81, "net_margin": 20.0, "capex_ratio": 1.76, "fcf": 1671515000.0, "revenue": 7401116000.0, "net_income": 1480142000.0, "score_value": 0.5, "score_risk": 0.46, "buffett_score": 0.482}, {"symbol": "MDT", "company": "Medtronic plc", "sector": "Healthcare", "industry": "Medical Devices", "weight": 0.0234, "score_composite": 0.5803, "score_sm": 0.585, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -7.3, "perf_ytd": 1.68, "vol_30d": 20.11, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 44.64705, "td_price": 97.66, "roe": 9.72, "roa": 5.12, "debt_equity": 0.59, "current_ratio": 1.85, "gross_margin": 65.32, "operating_margin": 19.5, "net_margin": 13.99, "capex_ratio": 5.54, "fcf": 5185000000.0, "revenue": 33537000000.0, "net_income": 4691000000.0, "score_value": 0.5, "score_risk": 0.28, "buffett_score": 0.422}];
        
        const ctx = document.getElementById('sectorChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ["Financial Services", "Communication Services", "Consumer Defensive", "Industrials", "Technology", "Healthcare"],
                datasets: [{
                    data: [23.1, 20.4, 19.9, 25.7, 8.5, 2.3],
                    backgroundColor: ["#f59e0b", "#ec4899", "#06b6d4", "#8b5cf6", "#3b82f6", "#10b981"],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right', labels: { color: '#94a3b8', font: { size: 10 } } }
                }
            }
        });
        
        function calculateAllocation() {
            const amount = parseFloat(document.getElementById('amount').value) || 0;
            const result = document.getElementById('allocation-result');
            let html = '';
            let total = 0;
            
            portfolio.forEach(pos => {
                const alloc = amount * pos.weight;
                const price = pos.td_price || pos.current_price || 0;
                const shares = price > 0 ? Math.floor(alloc / price) : 0;
                const actualAlloc = shares * price;
                total += actualAlloc;
                
                html += `<div class="alloc-row">
                    <span><strong>${pos.symbol}</strong></span>
                    <span>${shares} Ã— ${price.toFixed(0)} = ${actualAlloc.toFixed(0)}</span>
                </div>`;
            });
            
            html = `<div class="alloc-row" style="font-weight:bold; border-bottom: 2px solid #475569;">
                <span>TOTAL INVESTI</span>
                <span>${total.toFixed(0)} / ${amount.toFixed(0)}</span>
            </div>` + html;
            
            result.innerHTML = html;
        }
        
        document.getElementById('amount').addEventListener('input', calculateAllocation);
        calculateAllocation();
    </script>
</body>
</html>
