<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartMoney Portfolio - 2025-12-29</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f172a;
            color: #e2e8f0;
            padding: 20px;
            line-height: 1.6;
        }
        .container { max-width: 1600px; margin: 0 auto; }
        h1 { font-size: 1.8rem; margin-bottom: 20px; color: #38bdf8; }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        .metric-card {
            background: #1e293b;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }
        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #38bdf8;
        }
        .metric-value.positive { color: #10b981; }
        .metric-value.negative { color: #ef4444; }
        .metric-label {
            font-size: 0.75rem;
            color: #94a3b8;
            margin-top: 5px;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        @media (max-width: 1000px) { .grid-2 { grid-template-columns: 1fr; } }
        .card {
            background: #1e293b;
            border-radius: 12px;
            padding: 20px;
        }
        .card h2 {
            font-size: 1rem;
            margin-bottom: 15px;
            color: #94a3b8;
        }
        table { width: 100%; border-collapse: collapse; font-size: 0.8rem; }
        th, td { padding: 10px 6px; text-align: left; border-bottom: 1px solid #334155; }
        th { color: #94a3b8; font-weight: 500; font-size: 0.7rem; text-transform: uppercase; }
        tr:hover { background: #334155; }
        .ticker { font-weight: 600; color: #38bdf8; }
        .weight { color: #fbbf24; }
        .positive { color: #10b981; }
        .negative { color: #ef4444; }
        .neutral { color: #94a3b8; }
        .sector-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.65rem;
            background: #334155;
        }
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }
        .input-group label { color: #94a3b8; }
        .input-group input {
            background: #334155;
            border: 1px solid #475569;
            border-radius: 8px;
            padding: 10px 15px;
            color: #e2e8f0;
            font-size: 1rem;
            width: 150px;
        }
        .input-group input:focus { outline: none; border-color: #38bdf8; }
        #allocation-result {
            margin-top: 15px;
            padding: 15px;
            background: #0f172a;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
        }
        .alloc-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid #1e293b;
            font-size: 0.85rem;
        }
        .chart-container { position: relative; height: 280px; }
        .fundamentals-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #334155;
        }
        .fund-item { text-align: center; }
        .fund-value { font-size: 1.2rem; font-weight: 600; color: #38bdf8; }
        .fund-label { font-size: 0.7rem; color: #64748b; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“Š SmartMoney Portfolio â€” 2025-12-29</h1>
        
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value">20</div>
                <div class="metric-label">Positions</div>
            </div>
            <div class="metric-card">
                <div class="metric-value positive">
                    +2.0%
                </div>
                <div class="metric-label">Perf 3M</div>
            </div>
            <div class="metric-card">
                <div class="metric-value positive">
                    +10.13%
                </div>
                <div class="metric-label">Perf YTD</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">5.05%</div>
                <div class="metric-label">Vol 30j</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">26.3%</div>
                <div class="metric-label">ROE Moy.</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">0.69</div>
                <div class="metric-label">D/E Moy.</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">26.3%</div>
                <div class="metric-label">Marge Moy.</div>
            </div>
        </div>
        
        <div class="grid-2">
            <div class="card">
                <h2>RÃ©partition Sectorielle</h2>
                <div class="chart-container">
                    <canvas id="sectorChart"></canvas>
                </div>
            </div>
            
            <div class="card">
                <h2>Calculateur d'Allocation</h2>
                <div class="input-group">
                    <label for="amount">Montant:</label>
                    <input type="number" id="amount" value="10000" step="1000">
                    <span>â‚¬</span>
                </div>
                <div id="allocation-result"></div>
            </div>
        </div>
        
        <div class="card">
            <h2>Positions (20)</h2>
            <table>
                <thead>
                    <tr>
                        <th>Ticker</th>
                        <th>Secteur</th>
                        <th>Poids</th>
                        <th>Score</th>
                        <th>3M</th>
                        <th>YTD</th>
                        <th>Vol</th>
                        <th>RSI</th>
                        <th>ROE</th>
                        <th>D/E</th>
                        <th>Marge</th>
                        <th>CAPEX</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ticker">META</td>
                        <td><span class="sector-badge">Communicatio</span></td>
                        <td class="weight">10.54%</td>
                        <td>1.039</td>
                        <td class="negative">-10.8%</td>
                        <td class="positive">+10.7%</td>
                        <td>24%</td>
                        <td>55</td>
                        <td class="positive">34.1%</td>
                        <td class="positive">0.27</td>
                        <td class="positive">37.9%</td>
                        <td>22.6%</td>
                    </tr>
                    <tr>
                        <td class="ticker">MSFT</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">10.21%</td>
                        <td>1.096</td>
                        <td class="negative">-4.6%</td>
                        <td class="positive">+16.5%</td>
                        <td>20%</td>
                        <td>50</td>
                        <td class="positive">29.6%</td>
                        <td class="positive">0.18</td>
                        <td class="positive">36.1%</td>
                        <td>22.9%</td>
                    </tr>
                    <tr>
                        <td class="ticker">V</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">8.46%</td>
                        <td>1.189</td>
                        <td class="positive">+5.2%</td>
                        <td class="positive">+12.9%</td>
                        <td>22%</td>
                        <td>69</td>
                        <td class="positive">52.9%</td>
                        <td class="positive">0.66</td>
                        <td class="positive">50.1%</td>
                        <td>3.7%</td>
                    </tr>
                    <tr>
                        <td class="ticker">KO</td>
                        <td><span class="sector-badge">Consumer Def</span></td>
                        <td class="weight">7.11%</td>
                        <td>0.588</td>
                        <td class="positive">+6.4%</td>
                        <td class="positive">+13.0%</td>
                        <td>14%</td>
                        <td>46</td>
                        <td class="positive">40.4%</td>
                        <td class="neutral">1.69</td>
                        <td class="positive">22.6%</td>
                        <td>4.3%</td>
                    </tr>
                    <tr>
                        <td class="ticker">UNP</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">6.25%</td>
                        <td>0.915</td>
                        <td class="negative">-0.8%</td>
                        <td class="positive">+1.9%</td>
                        <td>16%</td>
                        <td>52</td>
                        <td class="positive">40.0%</td>
                        <td class="neutral">1.92</td>
                        <td class="positive">27.8%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">SPGI</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">5.02%</td>
                        <td>0.648</td>
                        <td class="positive">+8.7%</td>
                        <td class="positive">+6.8%</td>
                        <td>15%</td>
                        <td>72</td>
                        <td class="neutral">11.1%</td>
                        <td class="positive">0.32</td>
                        <td class="positive">29.3%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">SNA</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">4.88%</td>
                        <td>0.448</td>
                        <td class="positive">+3.5%</td>
                        <td class="positive">+5.6%</td>
                        <td>14%</td>
                        <td>64</td>
                        <td class="positive">19.7%</td>
                        <td class="positive">0.24</td>
                        <td class="positive">20.9%</td>
                        <td>0.1%</td>
                    </tr>
                    <tr>
                        <td class="ticker">AON</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">4.21%</td>
                        <td>0.595</td>
                        <td class="positive">+0.2%</td>
                        <td class="positive">+0.5%</td>
                        <td>15%</td>
                        <td>59</td>
                        <td class="positive">42.3%</td>
                        <td class="negative">2.78</td>
                        <td class="positive">17.3%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">AMZN</td>
                        <td><span class="sector-badge">Consumer Cyc</span></td>
                        <td class="weight">4.59%</td>
                        <td>0.863</td>
                        <td class="positive">+5.8%</td>
                        <td class="positive">+5.6%</td>
                        <td>24%</td>
                        <td>55</td>
                        <td class="positive">20.7%</td>
                        <td class="positive">0.46</td>
                        <td class="neutral">9.3%</td>
                        <td>12.2%</td>
                    </tr>
                    <tr>
                        <td class="ticker">GOOGL</td>
                        <td><span class="sector-badge">Communicatio</span></td>
                        <td class="weight">4.55%</td>
                        <td>0.902</td>
                        <td class="positive">+27.2%</td>
                        <td class="positive">+65.5%</td>
                        <td>31%</td>
                        <td>58</td>
                        <td class="positive">30.8%</td>
                        <td class="positive">0.08</td>
                        <td class="positive">28.6%</td>
                        <td>15.0%</td>
                    </tr>
                    <tr>
                        <td class="ticker">DIS</td>
                        <td><span class="sector-badge">Communicatio</span></td>
                        <td class="weight">4.50%</td>
                        <td>0.605</td>
                        <td class="positive">+0.1%</td>
                        <td class="positive">+2.5%</td>
                        <td>21%</td>
                        <td>61</td>
                        <td class="neutral">11.7%</td>
                        <td class="positive">0.39</td>
                        <td class="positive">14.2%</td>
                        <td>8.5%</td>
                    </tr>
                    <tr>
                        <td class="ticker">BRK.B</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">3.82%</td>
                        <td>0.461</td>
                        <td class="negative">-0.3%</td>
                        <td class="positive">+10.5%</td>
                        <td>13%</td>
                        <td>48</td>
                        <td class="neutral">13.7%</td>
                        <td class="positive">0.19</td>
                        <td class="positive">21.1%</td>
                        <td>4.5%</td>
                    </tr>
                    <tr>
                        <td class="ticker">MMC</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">3.63%</td>
                        <td>0.678</td>
                        <td class="negative">-6.3%</td>
                        <td class="negative">-11.5%</td>
                        <td>12%</td>
                        <td>58</td>
                        <td class="positive">30.4%</td>
                        <td class="neutral">1.62</td>
                        <td class="positive">16.8%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">NVDA</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">3.74%</td>
                        <td>1.085</td>
                        <td class="positive">+6.9%</td>
                        <td class="positive">+37.8%</td>
                        <td>33%</td>
                        <td>59</td>
                        <td class="positive">91.9%</td>
                        <td class="positive">0.13</td>
                        <td class="positive">55.9%</td>
                        <td>2.5%</td>
                    </tr>
                    <tr>
                        <td class="ticker">CPRT</td>
                        <td><span class="sector-badge">Industrials</span></td>
                        <td class="weight">3.71%</td>
                        <td>0.779</td>
                        <td class="negative">-12.4%</td>
                        <td class="negative">-30.2%</td>
                        <td>17%</td>
                        <td>45</td>
                        <td class="positive">16.8%</td>
                        <td class="positive">0.01</td>
                        <td class="positive">33.3%</td>
                        <td>11.6%</td>
                    </tr>
                    <tr>
                        <td class="ticker">MCD</td>
                        <td><span class="sector-badge">Consumer Cyc</span></td>
                        <td class="weight">3.46%</td>
                        <td>0.590</td>
                        <td class="positive">+1.8%</td>
                        <td class="positive">+6.2%</td>
                        <td>18%</td>
                        <td>49</td>
                        <td class="negative">-2.2%</td>
                        <td class="neutral">nan</td>
                        <td class="positive">31.7%</td>
                        <td>0.5%</td>
                    </tr>
                    <tr>
                        <td class="ticker">PFE</td>
                        <td><span class="sector-badge">Healthcare</span></td>
                        <td class="weight">3.33%</td>
                        <td>0.598</td>
                        <td class="positive">+5.6%</td>
                        <td class="negative">-5.7%</td>
                        <td>24%</td>
                        <td>47</td>
                        <td class="neutral">9.1%</td>
                        <td class="positive">0.72</td>
                        <td class="positive">12.7%</td>
                        <td>4.6%</td>
                    </tr>
                    <tr>
                        <td class="ticker">FTV</td>
                        <td><span class="sector-badge">Technology</span></td>
                        <td class="weight">3.14%</td>
                        <td>0.654</td>
                        <td class="positive">+14.8%</td>
                        <td class="negative">-0.7%</td>
                        <td>19%</td>
                        <td>65</td>
                        <td class="neutral">8.2%</td>
                        <td class="positive">0.38</td>
                        <td class="positive">13.4%</td>
                        <td>0.9%</td>
                    </tr>
                    <tr>
                        <td class="ticker">TFC</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">2.52%</td>
                        <td>0.512</td>
                        <td class="positive">+10.0%</td>
                        <td class="positive">+16.8%</td>
                        <td>16%</td>
                        <td>77</td>
                        <td class="neutral">7.6%</td>
                        <td class="positive">0.83</td>
                        <td class="positive">36.5%</td>
                        <td>nan%</td>
                    </tr>
                    <tr>
                        <td class="ticker">TRV</td>
                        <td><span class="sector-badge">Financial Se</span></td>
                        <td class="weight">2.33%</td>
                        <td>0.527</td>
                        <td class="positive">+5.2%</td>
                        <td class="positive">+21.3%</td>
                        <td>12%</td>
                        <td>59</td>
                        <td class="positive">17.9%</td>
                        <td class="positive">0.29</td>
                        <td class="positive">10.8%</td>
                        <td>nan%</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <script>
        const portfolio = [{"symbol": "META", "company": "Meta Platforms, Inc. Class A Common Stock", "sector": "Communication Services", "industry": "Internet Content & Information", "weight": 0.1054, "score_composite": 1.0391, "score_sm": 0.842, "score_insider": 0.5, "score_momentum": 0.4, "score_quality": 0.485, "perf_3m": -10.82, "perf_ytd": 10.69, "vol_30d": 24.07, "gp_buys": 8, "gp_tier": "A", "insider_buys": 0, "rsi": 54.51123, "td_price": 663.28998, "roe": 34.14, "roa": 22.59, "debt_equity": 0.27, "current_ratio": 2.98, "gross_margin": 81.67, "operating_margin": 42.18, "net_margin": 37.91, "capex_ratio": 22.65, "fcf": 54072000000.0, "revenue": 164501000000.0, "net_income": 62360000000.0, "score_value": 0.5, "score_risk": 0.46, "buffett_score": 0.482}, {"symbol": "MSFT", "company": "Microsoft Corp.", "sector": "Technology", "industry": "Software - Infrastructure", "weight": 0.1021, "score_composite": 1.0958, "score_sm": 0.85, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -4.64, "perf_ytd": 16.52, "vol_30d": 20.01, "gp_buys": 7, "gp_tier": "B", "insider_buys": 0, "rsi": 50.14984, "td_price": 487.70999, "roe": 29.65, "roa": 16.45, "debt_equity": 0.18, "current_ratio": 1.35, "gross_margin": 68.82, "operating_margin": 45.62, "net_margin": 36.15, "capex_ratio": 22.91, "fcf": 71611000000.0, "revenue": 281724000000.0, "net_income": 101832000000.0, "score_value": 0.5, "score_risk": 0.46, "buffett_score": 0.482}, {"symbol": "V", "company": "Visa Inc", "sector": "Financial Services", "industry": "Credit Services", "weight": 0.0846, "score_composite": 1.1888, "score_sm": 0.914, "score_insider": 0.5, "score_momentum": 0.53, "score_quality": 0.485, "perf_3m": 5.23, "perf_ytd": 12.91, "vol_30d": 22.22, "gp_buys": 8, "gp_tier": "A", "insider_buys": 0, "rsi": 69.33884, "td_price": 355.0, "roe": 52.91, "roa": 20.13, "debt_equity": 0.66, "current_ratio": 1.08, "gross_margin": 80.36, "operating_margin": 66.39, "net_margin": 50.14, "capex_ratio": 3.71, "fcf": 21577000000.0, "revenue": 40000000000.0, "net_income": 20058000000.0, "score_value": 0.5, "score_risk": 0.46, "buffett_score": 0.482}, {"symbol": "KO", "company": "The Coca-Cola Company", "sector": "Consumer Defensive", "industry": "Beverages - Non-Alcoholic", "weight": 0.0711, "score_composite": 0.5881, "score_sm": 0.584, "score_insider": 0.5, "score_momentum": 0.65, "score_quality": 0.445, "perf_3m": 6.4, "perf_ytd": 12.99, "vol_30d": 14.11, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 45.62203, "td_price": 69.87, "roe": 40.38, "roa": 10.59, "debt_equity": 1.69, "current_ratio": 1.03, "gross_margin": 61.06, "operating_margin": 29.8, "net_margin": 22.63, "capex_ratio": 4.3, "fcf": 4741000000.0, "revenue": 47061000000.0, "net_income": 10649000000.0, "score_value": 0.5, "score_risk": 0.395, "buffett_score": 0.447}, {"symbol": "UNP", "company": "Union Pacific Corporation", "sector": "Industrials", "industry": "Railroads", "weight": 0.0625, "score_composite": 0.9149, "score_sm": 0.824, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -0.75, "perf_ytd": 1.89, "vol_30d": 15.61, "gp_buys": 5, "gp_tier": "C", "insider_buys": 0, "rsi": 52.080477, "td_price": 233.44, "roe": 39.95, "roa": 9.96, "debt_equity": 1.92, "current_ratio": 0.77, "gross_margin": 45.52, "operating_margin": 40.05, "net_margin": 27.82, "capex_ratio": NaN, "fcf": 5894000000.0, "revenue": 24250000000.0, "net_income": 6747000000.0, "score_value": 0.5, "score_risk": 0.355, "buffett_score": 0.447}, {"symbol": "SPGI", "company": "S&P Global Inc.", "sector": "Financial Services", "industry": "Financial Data & Stock Exchanges", "weight": 0.0502, "score_composite": 0.6481, "score_sm": 0.611, "score_insider": 0.5, "score_momentum": 0.37, "score_quality": 0.485, "perf_3m": 8.68, "perf_ytd": 6.85, "vol_30d": 14.85, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 72.23664, "td_price": 529.45001, "roe": 11.11, "roa": 6.92, "debt_equity": 0.32, "current_ratio": 0.85, "gross_margin": 69.09, "operating_margin": 38.56, "net_margin": 29.33, "capex_ratio": NaN, "fcf": 5565000000.0, "revenue": 14208000000.0, "net_income": 4167000000.0, "score_value": 0.5, "score_risk": 0.395, "buffett_score": 0.46}, {"symbol": "SNA", "company": "Snap-on Inc.", "sector": "Industrials", "industry": "Tools & Accessories", "weight": 0.0488, "score_composite": 0.4478, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.48, "score_quality": 0.485, "perf_3m": 3.54, "perf_ytd": 5.64, "vol_30d": 13.5, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 64.41978, "td_price": 354.0, "roe": 19.73, "roa": 13.54, "debt_equity": 0.24, "current_ratio": 4.15, "gross_margin": 51.97, "operating_margin": 26.34, "net_margin": 20.92, "capex_ratio": 0.06, "fcf": 1134000000.0, "revenue": 5108400000.0, "net_income": 1068900000.0, "score_value": 0.5, "score_risk": 0.5, "buffett_score": 0.495}, {"symbol": "AON", "company": "Aon plc", "sector": "Financial Services", "industry": "Insurance Brokers", "weight": 0.0421, "score_composite": 0.5953, "score_sm": 0.613, "score_insider": 0.5, "score_momentum": 0.6, "score_quality": 0.485, "perf_3m": 0.16, "perf_ytd": 0.47, "vol_30d": 15.12, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 59.2721, "td_price": 356.64999, "roe": 42.3, "roa": 5.55, "debt_equity": 2.78, "current_ratio": 1.02, "gross_margin": 47.24, "operating_margin": 26.6, "net_margin": 17.33, "capex_ratio": NaN, "fcf": 2817000000.0, "revenue": 15698000000.0, "net_income": 2720000000.0, "score_value": 0.5, "score_risk": 0.28, "buffett_score": 0.422}, {"symbol": "AMZN", "company": "Amazon.com Inc.", "sector": "Consumer Cyclical", "industry": "Internet Retail", "weight": 0.0459, "score_composite": 0.8629, "score_sm": 0.912, "score_insider": 0.5, "score_momentum": 0.65, "score_quality": 0.405, "perf_3m": 5.8, "perf_ytd": 5.59, "vol_30d": 23.81, "gp_buys": 8, "gp_tier": "A", "insider_buys": 0, "rsi": 55.30091, "td_price": 232.52, "roe": 20.72, "roa": 9.48, "debt_equity": 0.46, "current_ratio": 1.06, "gross_margin": 48.85, "operating_margin": 10.75, "net_margin": 9.29, "capex_ratio": 12.17, "fcf": 32878000000.0, "revenue": 637959000000.0, "net_income": 59248000000.0, "score_value": 0.5, "score_risk": 0.415, "buffett_score": 0.44}, {"symbol": "GOOGL", "company": "Alphabet Inc.", "sector": "Communication Services", "industry": "Internet Content & Information", "weight": 0.0455, "score_composite": 0.9022, "score_sm": 0.663, "score_insider": 0.5, "score_momentum": 0.7, "score_quality": 0.485, "perf_3m": 27.16, "perf_ytd": 65.5, "vol_30d": 31.14, "gp_buys": 5, "gp_tier": "C", "insider_buys": 0, "rsi": 57.64399, "td_price": 313.51001, "roe": 30.8, "roa": 22.24, "debt_equity": 0.08, "current_ratio": 1.84, "gross_margin": 58.2, "operating_margin": 32.11, "net_margin": 28.6, "capex_ratio": 15.01, "fcf": 72764000000.0, "revenue": 350018000000.0, "net_income": 100118000000.0, "score_value": 0.5, "score_risk": 0.42, "buffett_score": 0.468}, {"symbol": "DIS", "company": "The Walt Disney Company", "sector": "Communication Services", "industry": "Entertainment", "weight": 0.045, "score_composite": 0.6046, "score_sm": 0.708, "score_insider": 0.5, "score_momentum": 0.48, "score_quality": 0.445, "perf_3m": 0.08, "perf_ytd": 2.47, "vol_30d": 20.62, "gp_buys": 6, "gp_tier": "B", "insider_buys": 0, "rsi": 61.13064, "td_price": 113.56, "roe": 11.72, "roa": 6.8, "debt_equity": 0.39, "current_ratio": 0.71, "gross_margin": 37.76, "operating_margin": 14.65, "net_margin": 14.22, "capex_ratio": 8.5, "fcf": 10077000000.0, "revenue": 94425000000.0, "net_income": 13431000000.0, "score_value": 0.5, "score_risk": 0.355, "buffett_score": 0.433}, {"symbol": "BRK.B", "company": "Berkshire Hathaway Inc.", "sector": "Financial Services", "industry": "Insurance - Diversified", "weight": 0.0382, "score_composite": 0.4605, "score_sm": 0.801, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.325, "perf_3m": -0.35, "perf_ytd": 10.46, "vol_30d": 12.97, "gp_buys": 6, "gp_tier": "B", "insider_buys": 0, "rsi": 48.032835, "td_price": 498.29999, "roe": 13.74, "roa": 7.76, "debt_equity": 0.19, "current_ratio": 2.72, "gross_margin": NaN, "operating_margin": 41.1, "net_margin": 21.11, "capex_ratio": 4.47, "fcf": 11616000000.0, "revenue": 424232000000.0, "net_income": 89561000000.0, "score_value": 0.5, "score_risk": 0.5, "buffett_score": 0.442}, {"symbol": "MMC", "company": "Marsh & McLennan Companies, Inc.", "sector": "Financial Services", "industry": "Insurance Brokers", "weight": 0.0363, "score_composite": 0.6782, "score_sm": 0.586, "score_insider": 0.5, "score_momentum": 0.5, "score_quality": 0.485, "perf_3m": -6.29, "perf_ytd": -11.52, "vol_30d": 12.08, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 57.5161, "td_price": 187.0, "roe": 30.42, "roa": 7.29, "debt_equity": 1.62, "current_ratio": 1.13, "gross_margin": 42.78, "operating_margin": 23.78, "net_margin": 16.83, "capex_ratio": NaN, "fcf": 3986000000.0, "revenue": 24458000000.0, "net_income": 4117000000.0, "score_value": 0.5, "score_risk": 0.395, "buffett_score": 0.46}, {"symbol": "NVDA", "company": "NVIDIA Corp", "sector": "Technology", "industry": "Semiconductors", "weight": 0.0374, "score_composite": 1.0847, "score_sm": 0.83, "score_insider": 0.5, "score_momentum": 0.65, "score_quality": 0.485, "perf_3m": 6.93, "perf_ytd": 37.76, "vol_30d": 32.6, "gp_buys": 8, "gp_tier": "A", "insider_buys": 0, "rsi": 58.68174, "td_price": 190.53, "roe": 91.87, "roa": 65.3, "debt_equity": 0.13, "current_ratio": 4.44, "gross_margin": 74.99, "operating_margin": 62.42, "net_margin": 55.85, "capex_ratio": 2.48, "fcf": 60853000000.0, "revenue": 130497000000.0, "net_income": 72880000000.0, "score_value": 0.5, "score_risk": 0.42, "buffett_score": 0.468}, {"symbol": "CPRT", "company": "Copart Inc.", "sector": "Industrials", "industry": "Specialty Business Services", "weight": 0.0371, "score_composite": 0.779, "score_sm": 0.631, "score_insider": 0.5, "score_momentum": 0.4, "score_quality": 0.485, "perf_3m": -12.41, "perf_ytd": -30.22, "vol_30d": 16.9, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 45.30332, "td_price": 39.3, "roe": 16.82, "roa": 15.34, "debt_equity": 0.01, "current_ratio": 8.42, "gross_margin": 45.18, "operating_margin": 36.51, "net_margin": 33.32, "capex_ratio": 11.56, "fcf": 1230760000.0, "revenue": 4646958000.0, "net_income": 1548363000.0, "score_value": 0.5, "score_risk": 0.46, "buffett_score": 0.482}, {"symbol": "MCD", "company": "McDonald's Corporation", "sector": "Consumer Cyclical", "industry": "Restaurants", "weight": 0.0346, "score_composite": 0.5904, "score_sm": 0.609, "score_insider": 0.5, "score_momentum": 0.6, "score_quality": 0.485, "perf_3m": 1.78, "perf_ytd": 6.21, "vol_30d": 18.44, "gp_buys": 4, "gp_tier": "C", "insider_buys": 0, "rsi": 49.22556, "td_price": 310.67999, "roe": -2.17, "roa": 14.9, "debt_equity": NaN, "current_ratio": 1.19, "gross_margin": 56.75, "operating_margin": 45.72, "net_margin": 31.73, "capex_ratio": 0.47, "fcf": 6672000000.0, "revenue": 25920000000.0, "net_income": 8224000000.0, "score_value": 0.5, "score_risk": 0.28, "buffett_score": 0.422}, {"symbol": "PFE", "company": "Pfizer Inc.", "sector": "Healthcare", "industry": "Drug Manufacturers - General", "weight": 0.0333, "score_composite": 0.5978, "score_sm": 0.596, "score_insider": 0.5, "score_momentum": 0.65, "score_quality": 0.485, "perf_3m": 5.6, "perf_ytd": -5.71, "vol_30d": 24.35, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 46.9412, "td_price": 25.09, "roe": 9.11, "roa": 3.78, "debt_equity": 0.72, "current_ratio": 1.17, "gross_margin": 71.94, "operating_margin": 23.31, "net_margin": 12.67, "capex_ratio": 4.57, "fcf": 9835000000.0, "revenue": 63627000000.0, "net_income": 8062000000.0, "score_value": 0.5, "score_risk": 0.28, "buffett_score": 0.422}, {"symbol": "FTV", "company": "Fortive Corporation", "sector": "Technology", "industry": "Scientific & Technical Instruments", "weight": 0.0314, "score_composite": 0.654, "score_sm": 0.601, "score_insider": 0.5, "score_momentum": 0.53, "score_quality": 0.485, "perf_3m": 14.75, "perf_ytd": -0.68, "vol_30d": 18.65, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 64.66162, "td_price": 55.69, "roe": 8.17, "roa": 4.89, "debt_equity": 0.38, "current_ratio": 1.16, "gross_margin": 59.87, "operating_margin": 18.35, "net_margin": 13.37, "capex_ratio": 0.95, "fcf": 1406400000.0, "revenue": 6231800000.0, "net_income": 832900000.0, "score_value": 0.5, "score_risk": 0.355, "buffett_score": 0.447}, {"symbol": "TFC", "company": "Truist Financial Corp", "sector": "Financial Services", "industry": "Banks - Regional", "weight": 0.0252, "score_composite": 0.5116, "score_sm": 0.598, "score_insider": 0.5, "score_momentum": 0.37, "score_quality": 0.485, "perf_3m": 9.97, "perf_ytd": 16.8, "vol_30d": 16.48, "gp_buys": 3, "gp_tier": "C", "insider_buys": 0, "rsi": 76.65736, "td_price": 50.61, "roe": 7.6, "roa": 0.91, "debt_equity": 0.83, "current_ratio": NaN, "gross_margin": NaN, "operating_margin": 39.32, "net_margin": 36.45, "capex_ratio": NaN, "fcf": 2164000000.0, "revenue": 13278000000.0, "net_income": 4840000000.0, "score_value": 0.5, "score_risk": 0.31, "buffett_score": 0.432}, {"symbol": "TRV", "company": "Travelers Companies, Inc.", "sector": "Financial Services", "industry": "Insurance - Property & Casualty", "weight": 0.0233, "score_composite": 0.5274, "score_sm": 0.286, "score_insider": 0.5, "score_momentum": 0.65, "score_quality": 0.485, "perf_3m": 5.17, "perf_ytd": 21.27, "vol_30d": 12.36, "gp_buys": 0, "gp_tier": "D", "insider_buys": 0, "rsi": 59.34039, "td_price": 292.12, "roe": 17.94, "roa": 3.75, "debt_equity": 0.29, "current_ratio": 0.34, "gross_margin": NaN, "operating_margin": 19.69, "net_margin": 10.77, "capex_ratio": NaN, "fcf": 9074000000.0, "revenue": 46428000000.0, "net_income": 4999000000.0, "score_value": 0.5, "score_risk": 0.5, "buffett_score": 0.495}];
        
        const ctx = document.getElementById('sectorChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ["Communication Services", "Technology", "Financial Services", "Consumer Defensive", "Industrials", "Consumer Cyclical", "Healthcare"],
                datasets: [{
                    data: [19.6, 17.1, 30.0, 7.1, 14.8, 8.1, 3.3],
                    backgroundColor: ["#ec4899", "#3b82f6", "#f59e0b", "#06b6d4", "#8b5cf6", "#ef4444", "#10b981"],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right', labels: { color: '#94a3b8', font: { size: 10 } } }
                }
            }
        });
        
        function calculateAllocation() {
            const amount = parseFloat(document.getElementById('amount').value) || 0;
            const result = document.getElementById('allocation-result');
            let html = '';
            let total = 0;
            
            portfolio.forEach(pos => {
                const alloc = amount * pos.weight;
                const price = pos.td_price || pos.current_price || 0;
                const shares = price > 0 ? Math.floor(alloc / price) : 0;
                const actualAlloc = shares * price;
                total += actualAlloc;
                
                html += `<div class="alloc-row">
                    <span><strong>${pos.symbol}</strong></span>
                    <span>${shares} Ã— ${price.toFixed(0)} = ${actualAlloc.toFixed(0)}</span>
                </div>`;
            });
            
            html = `<div class="alloc-row" style="font-weight:bold; border-bottom: 2px solid #475569;">
                <span>TOTAL INVESTI</span>
                <span>${total.toFixed(0)} / ${amount.toFixed(0)}</span>
            </div>` + html;
            
            result.innerHTML = html;
        }
        
        document.getElementById('amount').addEventListener('input', calculateAllocation);
        calculateAllocation();
    </script>
</body>
</html>
